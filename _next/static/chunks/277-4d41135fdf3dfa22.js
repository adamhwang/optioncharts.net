"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{5277:function(e,t,n){n.r(t),n.d(t,{__N_SSG:function(){return N},default:function(){return y}});var l=n(1799),s=n(5893),r=n(7294),a=n(2962),c=n(9396),o=n(6646),i=n(828),u=n(4758),x=function(e){return{name:"".concat(e," Today"),color:"#FF5959",showPayoff:!0,payoffTitle:"At Expiry",payoffColor:"#676FA3"}},d=r.createContext({}),m=function(e){var t=e.children,n=e.optionLegs,l=e.title,a=p(l),c=a.setOptionLegs,o=a.setStrategy;return(0,r.useEffect)((function(){c(n)}),[n]),(0,r.useEffect)((function(){o(x(l))}),[l]),(0,s.jsx)(d.Provider,{value:a,children:t})},p=function(e){var t=(0,r.useState)(100),n=t[0],l=t[1],s=(0,r.useState)(.01),a=s[0],c=s[1],o=(0,i.Z)((0,u.x)([]),2),d=o[0],m=o[1],p=(0,r.useState)(x(e)),h=p[0],f=p[1];return r.useMemo((function(){return{underlying:n,setUnderlying:l,rfr:a,setRfr:c,optionLegs:d,setOptionLegs:m,strategy:h,setStrategy:f}}),[n,l,a,c,d,m,h,f])},h=r.memo((function(e){var t=e.title,n=e.onCurrentValueChanged,a=(0,r.useContext)(d),i=a.underlying,u=a.rfr,x=a.optionLegs,m=a.strategy,p=[(0,c.Z)((0,l.Z)({},m),{optionLegs:x.map((function(e){return function(e){var t="long"===e.longShort?1:-1;return{k:e.k,t:e.dte/365.25,v:e.v,callPut:e.callPut,quantity:t}}(e)}))})];return(0,s.jsx)("div",{children:(0,s.jsx)(o.Z,{seriesName:t,s:i,r:u,strategies:p,onCurrentValueChanged:n})})})),f=n(5154),g=function(){var e,t=(0,r.useContext)(d),n=t.underlying,l=t.setUnderlying,a=t.rfr,c=t.setRfr,o=t.optionLegs,i=t.setOptionLegs;return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:"row mb-2",children:[(0,s.jsx)("small",{className:"col-2 text-truncate",children:"stock"}),(0,s.jsx)("small",{className:"col-2 px-1 px-sm-2",children:(0,s.jsx)("input",{className:"form-control form-control-sm","aria-label":"stock price",type:"number",value:n,onChange:function(e){return l(+e.target.value)}})}),(0,s.jsx)("small",{className:"col-2 offset-2 text-truncate",children:"rate"}),(0,s.jsx)("small",{className:"col-2 px-1 px-sm-2",children:(0,s.jsx)("input",{className:"form-control form-control-sm","aria-label":"risk free rate",type:"number",value:a,onChange:function(e){return c(+e.target.value)},step:".01"})})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("small",{className:"col-2 text-truncate",children:"long/short"}),(0,s.jsx)("small",{className:"col-2 text-truncate",children:"strike"}),(0,s.jsx)("small",{className:"col-2 text-truncate",children:"dte"}),(0,s.jsx)("small",{className:"col-2 text-truncate",children:"iv"}),(0,s.jsx)("small",{className:"col-2 text-truncate",children:"put/call"})]}),(e=o,e.map((function(t,n){return(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-2 px-1 px-sm-2",children:(0,s.jsxs)("select",{className:"form-select form-select-sm pe-0 pe-sm-4","aria-label":"leg ".concat(n+1," long or short"),value:t.longShort,onChange:function(e){return i((function(t){t[n].longShort=e.target.value}))},children:[(0,s.jsx)("option",{children:"long"}),(0,s.jsx)("option",{children:"short"})]})}),(0,s.jsx)("div",{className:"col-2 px-1 px-sm-2",children:(0,s.jsx)("input",{className:"form-control form-control-sm","aria-label":"leg ".concat(n+1," strike"),type:"number",value:t.k,onChange:function(e){return i((function(t){t[n].k=+e.target.value}))}})}),(0,s.jsx)("div",{className:"col-2 px-1 px-sm-2",children:"underlying"!==t.callPut?(0,s.jsx)("input",{className:"form-control form-control-sm","aria-label":"leg ".concat(n+1," DTE"),type:"number",value:t.dte,onChange:function(e){return i((function(t){t[n].dte=+e.target.value}))}}):null}),(0,s.jsx)("div",{className:"col-2 px-1 px-sm-2",children:"underlying"!==t.callPut?(0,s.jsx)("input",{className:"form-control form-control-sm","aria-label":"leg ".concat(n+1," volatility"),type:"number",value:t.v,onChange:function(e){return i((function(t){t[n].v=+e.target.value}))},step:".05"}):null}),(0,s.jsx)("div",{className:"col-2 px-1 px-sm-2",children:(0,s.jsxs)("select",{className:"form-select form-select-sm pe-0 pe-sm-4","aria-label":"leg ".concat(n+1," put call"),value:t.callPut,onChange:function(e){return i((function(t){t[n].callPut=e.target.value}))},children:[(0,s.jsx)("option",{children:"call"}),(0,s.jsx)("option",{children:"put"}),(0,s.jsx)("option",{children:"underlying"})]})}),(0,s.jsxs)("div",{className:"col-2 px-1 px-sm-2 text-center text-sm-start",children:[(0,s.jsx)("a",{role:"button",className:"me-2 text-dark",onClick:function(){return i((function(e){e.splice(n,0,t)}))},children:(0,s.jsx)(f.wEH,{})}),e.length>1?(0,s.jsx)("a",{role:"button",className:"text-dark",onClick:function(){return i((function(e){e.splice(n,1)}))},children:(0,s.jsx)(f.iFH,{})}):null]})]},"leg-".concat(n))})))]})},j=function(e){var t=e.name,n=e.x,l=e.start,a=e.current,c=(0,r.useContext)(d),i=c.strategy,u=c.underlying,x=c.optionLegs;if(!n||!l||!a)return(0,s.jsx)(s.Fragment,{});var m=l.optionLegValues.map((function(e,t){var r=function(e){return x[t]&&"call"===x[t].callPut&&e>x[t].k||x[t]&&"put"===x[t].callPut&&e<x[t].k?(0,s.jsx)("small",{className:"badge "+("long"==x[t].longShort?"text-bg-warning":"text-bg-danger"),children:"ITM"}):null};return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{scope:"row",children:t+1}),(0,s.jsxs)("td",{children:[(0,s.jsx)("span",{className:"me-2",children:(0,o.x)(l.optionLegValues[t])}),r(u)]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("span",{className:"me-2",children:(0,o.x)(a.optionLegValues[t])}),r(n)]}),(0,s.jsx)("td",{children:(0,o.x)(a.optionLegValues[t]-l.optionLegValues[t])})]},"row-".concat(t))}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{color:t!==i.payoffTitle?i.color:i.payoffColor},children:t}),(0,s.jsxs)("table",{className:"table small",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{scope:"col",children:"#"}),(0,s.jsxs)("td",{scope:"col",children:["@",(0,o.x)(u)]}),(0,s.jsxs)("td",{scope:"col",children:["@",(0,o.x)(n)]}),(0,s.jsx)("td",{scope:"col",children:"\u0394"})]})}),(0,s.jsxs)("tbody",{children:[m,(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:v}),(0,s.jsx)("td",{style:v,children:(0,o.x)(l.total)}),(0,s.jsx)("td",{style:v,children:(0,o.x)(a.total)}),(0,s.jsx)("td",{style:v,children:(0,o.x)(a.total-l.total)})]})]})]})]})},v={borderTopWidth:"2px"},N=!0,y=function(e){var t=e.title,n=e.optionLegs,c=(0,r.useState)({}),o=c[0],i=c[1],u=(0,r.useMemo)((function(){return function(e,t,n){i(Object.keys(t).reduce((function(l,s){return l[s]={x:e,start:t[s],current:n[s],name:s},l}),{}))}}),[]),x=Object.keys(o).map((function(e,t){return(0,s.jsx)("div",{className:"pt-3 col-sm-6",children:(0,s.jsx)(j,(0,l.Z)({},o[e]))},"table-".concat(t))}));return(0,s.jsxs)(m,{title:t,optionLegs:n,children:[(0,s.jsx)(a.PB,{title:t,openGraph:{title:t}}),(0,s.jsx)(h,{title:t,onCurrentValueChanged:u}),(0,s.jsx)(g,{}),(0,s.jsx)("div",{className:"row",children:x})]})}}}]);