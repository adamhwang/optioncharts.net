(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{8177:function(t){function e(t){var e=0;if(t>=8)e=1;else if(t<=-8)e=0;else{for(var r=0;r<100;r++)e+=Math.pow(t,2*r+1)/n(2*r+1);e*=Math.pow(Math.E,-.5*Math.pow(t,2)),e/=Math.sqrt(2*Math.PI),e+=.5}return e}function n(t){for(var e=1,n=t;n>1;n-=2)e*=n;return e}t.exports={blackScholes:function(t,n,r,o,i,a){var u=(i*r+Math.pow(o,2)*r/2-Math.log(n/t))/(o*Math.sqrt(r));return"call"===a?t*e(u)-n*Math.pow(Math.E,-1*i*r)*e(u-o*Math.sqrt(r)):n*Math.pow(Math.E,-1*i*r)*e(o*Math.sqrt(r)-u)-t*e(-u)},stdNormCDF:e,getW:function(t,e,n,r,o){return(o*n+Math.pow(r,2)*n/2-Math.log(e/t))/(r*Math.sqrt(n))}}},4779:function(t,e,n){var r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,s=u||c||Function("return this")();function l(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var f=Object.prototype,h=f.hasOwnProperty,p=f.toString,d=s.Symbol,y=f.propertyIsEnumerable,v=d?d.isConcatSpreadable:void 0;function g(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=m),o||(o=[]);++i<a;){var u=t[i];e>0&&n(u)?e>1?g(u,e-1,n,r,o):l(o,u):r||(o[o.length]=u)}return o}function m(t){return b(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?p.call(t):"";return e==i||e==a}(t)}(t)}(t)&&h.call(t,"callee")&&(!y.call(t,"callee")||p.call(t)==o)}(t)||!!(v&&t&&t[v])}var b=Array.isArray;t.exports=function(t){return(t?t.length:0)?g(t,Infinity):[]}},8778:function(t,e,n){"use strict";n.d(e,{Z:function(){return cc},x:function(){return Qu}});var r=n(7294),o=n(5697),i=function(t){return(t>0)-(t<0)},a=function(t){return"function"===typeof t?t:function(){return t}};function u(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}var c="mouseenter.interaction",s="mouseleave.interaction",l="mousemove.pan",f="mouseup.pan",h="touchmove.pan",p="touchend.pan touchcancel.pan";function d(t){return{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY}}function y(t,e){if(!e||!t)return t?t[0]:void 0;for(var n,r=0;r<t.length;r++)if(n=t[r],m(e(n)))return n}var v=y;function g(t,e){if(!e||!t){var n=t?t.length:0;return n?t[n-1]:void 0}for(var r,o=t.length-1;o>=0;o--)if(r=t[o],m(e(r)))return r}var m=function(t){return null!==t&&void 0!==t};function b(t){return!m(t)}function w(t,e){var n=e.currentTarget,r=n.getBoundingClientRect(),o=t.clientX-r.left-n.clientLeft,i=t.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function x(t,e){var n=t.currentTarget,r=null!==e&&void 0!==e?e:n.getBoundingClientRect(),o=t.clientX-r.left-n.clientLeft,i=t.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function _(t,e){t.forEach((function(t){t.setTransform(1,0,0,1,0,0),t.clearRect(-1,-1,t.canvas.width+2,t.canvas.height+2),t.scale(e,e)}))}var P=function(t){return t};function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return!e||"object"!==A(e)&&"function"!==typeof e?S(t):e}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}var D={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag",zoom:"zoom"},j=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(a,t);var e,n,o,i=E(a);function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e)).moreProps={},n.dragInProgress=!1,n.evaluationInProgress=!1,n.iSetTheCursorClass=!1,n.listener=function(t,e,r,o){void 0!==e&&n.updateMoreProps(e),n.evaluationInProgress=!0,n.evaluateType(t,o),n.evaluationInProgress=!1},n.drawOnCanvas=n.drawOnCanvas.bind(S(n)),n.getMoreProps=n.getMoreProps.bind(S(n)),n.draw=n.draw.bind(S(n)),n.updateMoreProps=n.updateMoreProps.bind(S(n)),n.evaluateType=n.evaluateType.bind(S(n)),n.isHover=n.isHover.bind(S(n)),n.preCanvasDraw=n.preCanvasDraw.bind(S(n)),n.postCanvasDraw=n.postCanvasDraw.bind(S(n)),n.getPanConditions=n.getPanConditions.bind(S(n)),n.shouldTypeProceed=n.shouldTypeProceed.bind(S(n)),n.preEvaluate=n.preEvaluate.bind(S(n));var r=e.generateSubscriptionId;return n.suscriberId=r(),n.state={updateCount:0},n}return e=a,(n=[{key:"updateMoreProps",value:function(t){var e=this;Object.keys(t).forEach((function(n){e.moreProps[n]=t[n]}))}},{key:"shouldTypeProceed",value:function(t,e){return!0}},{key:"preEvaluate",value:function(t,e,n){}},{key:"evaluateType",value:function(t,e){var n=D[t]||t;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(t,this.moreProps,e),this.shouldTypeProceed(t,this.moreProps)))switch(t){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1,this.props.onUnHover&&this.props.onUnHover(e,this.getMoreProps());break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(e,this.getMoreProps()),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(e,this.getMoreProps());break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(e,this.getMoreProps());break;case"click":var r=this.props,o=r.onClick,i=r.onClickOutside,a=r.onClickWhenHover,u=this.getMoreProps();u.hovering&&void 0!==a?a(e,u):void 0!==i&&i(e,u),void 0!==o&&o(e,u);break;case"mousemove":var c=this.moreProps.hovering;this.moreProps.hovering=this.isHover(e);var s=this.context,l=s.amIOnTop,f=s.setCursorClass;this.moreProps.hovering&&!this.props.selected&&l(this.suscriberId)&&void 0!==this.props.onHover?(f("react-financial-charts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&l(this.suscriberId)?(f(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):c&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,f(null));var h=this.getMoreProps();this.moreProps.hovering&&!c&&this.props.onHover&&this.props.onHover(e,h),c&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(e,h),this.props.onMouseMove&&this.props.onMouseMove(e,h);break;case"dblclick":var p=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(e,p),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(e,p);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(e,this.getMoreProps());break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(e,this.getMoreProps());break;case"dragstart":this.getPanConditions().draggable&&(0,this.context.amIOnTop)(this.suscriberId)&&(this.dragInProgress=!0,void 0!==this.props.onDragStart&&this.props.onDragStart(e,this.getMoreProps()));break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(e,this.getMoreProps());break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(e,this.getMoreProps()),this.dragInProgress=!1;break;case"dragcancel":(this.dragInProgress||this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)}}},{key:"isHover",value:function(t){var e=this.props.isHover;return void 0!==e&&e(this.getMoreProps(),t)}},{key:"getPanConditions",value:function(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{force:!1},e=t.trigger,n=t.force,r=D[e]||e,o=this.props.drawOn.indexOf(r)>-1;if(o||this.props.selected||n){var i=this.props.canvasDraw;if(void 0===i){var a=this.state.updateCount;this.setState({updateCount:a+1})}else this.drawOnCanvas()}}},{key:"UNSAFE_componentWillMount",value:function(){var t=this.context,e=t.subscribe,n=t.chartId,r=this.props,o=r.clip,i=r.edgeClip;e(this.suscriberId,{chartId:n,clip:o,edgeClip:i,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.UNSAFE_componentWillReceiveProps(this.props,this.context)}},{key:"componentWillUnmount",value:function(){(0,this.context.unsubscribe)(this.suscriberId),this.iSetTheCursorClass&&(0,this.context.setCursorClass)(null)}},{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.canvasDraw,r=e.selected,o=e.interactiveCursorClass;if(t.selected!==r){var i=this.context.setCursorClass;r&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,i(o)):(this.iSetTheCursorClass=!1,i(null))}void 0===n||this.evaluationInProgress||(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}},{key:"UNSAFE_componentWillReceiveProps",value:function(t,e){var n=e.xScale,r=e.plotData,o=e.chartConfig,i=e.getMutableState;this.moreProps=Object.assign(Object.assign(Object.assign({},this.moreProps),i()),{xScale:n,plotData:r,chartConfig:o})}},{key:"getMoreProps",value:function(){var t=this.context,e=t.xScale,n=t.plotData,r=t.chartConfig,o=t.morePropsDecorator,i=t.xAccessor,a=t.displayXAccessor,u=t.width,c=t.height,s=this.context,l=s.chartId,f=s.fullData,h=Object.assign({xScale:e,plotData:n,chartConfig:r,xAccessor:i,displayXAccessor:a,width:u,height:c,chartId:l,fullData:f},this.moreProps);return(o||P)(h)}},{key:"preCanvasDraw",value:function(t,e){}},{key:"postCanvasDraw",value:function(t,e){}},{key:"drawOnCanvas",value:function(){var t=this.props,e=t.canvasDraw,n=t.canvasToDraw;if(void 0!==e&&void 0!==n){var r=this.context.getCanvasContexts,o=this.getMoreProps(),i=n(r());void 0!==i&&(this.preCanvasDraw(i,o),e(i,o),this.postCanvasDraw(i,o))}}},{key:"render",value:function(){var t=this.props,e=t.canvasDraw,n=t.clip,o=t.svgDraw;if(void 0!==e||void 0===o)return null;var i=this.context.chartId,a=n?{clipPath:"url(#chart-area-clip".concat(void 0!==i?"-"+i:"",")")}:void 0;return r.createElement("g",{style:a},o(this.getMoreProps()))}}])&&O(e.prototype,n),o&&O(e,o),a}(r.Component);j.defaultProps={svgDraw:a(null),draw:[],canvasToDraw:function(t){return t.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1},j.contextTypes={width:o.number.isRequired,height:o.number.isRequired,margin:o.object.isRequired,chartId:o.oneOfType([o.number,o.string]),getCanvasContexts:o.func,xScale:o.func.isRequired,xAccessor:o.func.isRequired,displayXAccessor:o.func.isRequired,plotData:o.array.isRequired,fullData:o.array.isRequired,chartConfig:o.oneOfType([o.array,o.object]).isRequired,morePropsDecorator:o.func,generateSubscriptionId:o.func,getMutableState:o.func.isRequired,amIOnTop:o.func.isRequired,subscribe:o.func.isRequired,unsubscribe:o.func.isRequired,setCursorClass:o.func.isRequired};var T=function(t){return t.axes},R=function(t){return t.mouseCoord};function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e,n){return(F="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return!e||"object"!==q(e)&&"function"!==typeof e?N(t):e}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function H(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W(t);if(e){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}var Y=["drag","dragend"],Z=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(i,t);var e,n,r,o=H(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e)).preCanvasDraw=n.preCanvasDraw.bind(N(n)),n.postCanvasDraw=n.postCanvasDraw.bind(N(n)),n.shouldTypeProceed=n.shouldTypeProceed.bind(N(n)),n.preEvaluate=n.preEvaluate.bind(N(n)),n.updateMoreProps=n.updateMoreProps.bind(N(n)),n}return e=i,(n=[{key:"preCanvasDraw",value:function(t,e){F(W(i.prototype),"preCanvasDraw",this).call(this,t,e),t.save();var n=this.context,r=n.margin,o=n.ratio,a=e.chartConfig,u=a.width,c=a.height,s=a.origin,l=.5*o+s[0]+r.left,f=.5*o+s[1]+r.top,h=this.props,p=h.clip,d=h.edgeClip;t.setTransform(1,0,0,1,0,0),t.scale(o,o),d&&(t.beginPath(),t.rect(-1,f-10,u+r.left+r.right+1,c+20),t.clip()),t.translate(l,f),p&&(t.beginPath(),t.rect(-1,-1,u+1,c+1),t.clip())}},{key:"postCanvasDraw",value:function(t,e){F(W(i.prototype),"postCanvasDraw",this).call(this,t,e),t.restore()}},{key:"updateMoreProps",value:function(t){F(W(i.prototype),"updateMoreProps",this).call(this,t);var e=t.chartConfig;if(e&&Array.isArray(e)){var n=this.context.chartId,r=e.find((function(t){return t.id===n}));this.moreProps.chartConfig=r}if(m(this.moreProps.chartConfig)){var o=B(this.moreProps.chartConfig.origin,2),a=o[0],u=o[1];if(m(t.mouseXY)){var c=B(t.mouseXY,2),s=c[0],l=c[1];this.moreProps.mouseXY=[s-a,l-u]}if(m(t.startPos)){var f=B(t.startPos,2),h=f[0],p=f[1];this.moreProps.startPos=[h-a,p-u]}}}},{key:"preEvaluate",value:function(){}},{key:"shouldTypeProceed",value:function(t,e){return!("mousemove"!==t&&"click"!==t||!this.props.disablePan)||-1!==Y.indexOf(t)||!m(e)||!m(e.currentCharts)||e.currentCharts.indexOf(this.context.chartId)>-1}}])&&z(e.prototype,n),r&&z(e,r),i}(j);Z.defaultProps=j.defaultProps,Z.contextTypes={width:o.number.isRequired,height:o.number.isRequired,margin:o.object.isRequired,chartId:o.oneOfType([o.number,o.string]),getCanvasContexts:o.func,xScale:o.func.isRequired,xAccessor:o.func.isRequired,displayXAccessor:o.func.isRequired,plotData:o.array.isRequired,fullData:o.array.isRequired,chartConfig:o.oneOfType([o.array,o.object]).isRequired,morePropsDecorator:o.func,generateSubscriptionId:o.func,getMutableState:o.func.isRequired,amIOnTop:o.func.isRequired,subscribe:o.func.isRequired,unsubscribe:o.func.isRequired,setCursorClass:o.func.isRequired,canvasOriginX:o.number,canvasOriginY:o.number,ratio:o.number.isRequired};var U=function(t){var e=$(t).split(",");return 1===e.length?[]:e.map((function(t){return Number(t)}))},$=function(t){switch(t){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"4, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}};function V(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function G(t){if(!(o=t.length))return[];for(var e=-1,n=V(t,K),r=new Array(n);++e<n;)for(var o,i=-1,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r}function K(t){return t.length}var J={value:()=>{}};function Q(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new tt(r)}function tt(t){this._=t}function et(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function nt(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function rt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=J,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}tt.prototype=Q.prototype={constructor:tt,on:function(t,e){var n,r=this._,o=et(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=rt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=rt(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=nt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var ot,it,at=Q,ut=0,ct=0,st=0,lt=0,ft=0,ht=0,pt="object"===typeof performance&&performance.now?performance:Date,dt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function yt(){return ft||(dt(vt),ft=pt.now()+ht)}function vt(){ft=0}function gt(){this._call=this._time=this._next=null}function mt(t,e,n){var r=new gt;return r.restart(t,e,n),r}function bt(){ft=(lt=pt.now())+ht,ut=ct=0;try{!function(){yt(),++ut;for(var t,e=ot;e;)(t=ft-e._time)>=0&&e._call.call(null,t),e=e._next;--ut}()}finally{ut=0,function(){var t,e,n=ot,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ot=e);it=t,xt(r)}(),ft=0}}function wt(){var t=pt.now(),e=t-lt;e>1e3&&(ht-=e,lt=t)}function xt(t){ut||(ct&&(ct=clearTimeout(ct)),t-ft>24?(t<1/0&&(ct=setTimeout(bt,t-pt.now()-ht)),st&&(st=clearInterval(st))):(st||(lt=pt.now(),st=setInterval(wt,1e3)),ut=1,dt(bt)))}gt.prototype=mt.prototype={constructor:gt,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?yt():+n)+(null==e?0:+e),this._next||it===this||(it?it._next=this:ot=this,it=this),this._call=t,this._time=n,xt()},stop:function(){this._call&&(this._call=null,this._time=1/0,xt())}};const _t=4294967296;var Pt=Math.PI*(3-Math.sqrt(5));function St(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,u=new Map,c=mt(f),s=at("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%_t)/_t}();function f(){h(),s.call("tick",e),n<r&&(c.stop(),s.call("end",e))}function h(r){var c,s,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,u.forEach((function(t){t(n)})),c=0;c<l;++c)null==(s=t[c]).fx?s.x+=s.vx*=a:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=a:(s.y=s.fy,s.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+n),i=n*Pt;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),p(),e={tick:h,restart:function(){return c.restart(f),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),u.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(l=t,u.forEach(d),e):l},force:function(t,n){return arguments.length>1?(null==n?u.delete(t):u.set(t,d(n)),e):u.get(t)},find:function(e,n,r){var o,i,a,u,c,s=0,l=t.length;for(null==r?r=1/0:r*=r,s=0;s<l;++s)(a=(o=e-(u=t[s]).x)*o+(i=n-u.y)*i)<r&&(c=u,r=a);return c},on:function(t,n){return arguments.length>1?(s.on(t,n),e):s.on(t)}}}function Ot(t){return function(){return t}}function kt(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,a,u,c,s,l,f,h,p=t._root,d={data:r},y=t._x0,v=t._y0,g=t._x1,m=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=e>=(i=(y+g)/2))?y=i:g=i,(l=n>=(a=(v+m)/2))?v=a:m=a,o=p,!(p=p[f=l<<1|s]))return o[f]=d,t;if(u=+t._x.call(null,p.data),c=+t._y.call(null,p.data),e===u&&n===c)return d.next=p,o?o[f]=d:t._root=d,t;do{o=o?o[f]=new Array(4):t._root=new Array(4),(s=e>=(i=(y+g)/2))?y=i:g=i,(l=n>=(a=(v+m)/2))?v=a:m=a}while((f=l<<1|s)===(h=(c>=a)<<1|u>=i));return o[h]=p,o[f]=d,t}function Ct(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function Mt(t){return t[0]}function At(t){return t[1]}function Et(t,e,n){var r=new Dt(null==e?Mt:e,null==n?At:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Dt(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function jt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Tt=Et.prototype=Dt.prototype;function Rt(t){return 1e-6*(t()-.5)}function It(t){return t.x+t.vx}function Nt(t){return t.y+t.vy}function zt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ft(t,e){if(t=zt(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function Wt(){}function Lt(t){return null==t?Wt:function(){return this.querySelector(t)}}function Xt(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Bt(){return[]}function qt(t){return function(e){return e.matches(t)}}Tt.copy=function(){var t,e,n=new Dt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=jt(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=jt(e));return n},Tt.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return kt(this.cover(e,n),e,n,t)},Tt.addAll=function(t){var e,n,r,o,i=t.length,a=new Array(i),u=new Array(i),c=1/0,s=1/0,l=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=r,u[n]=o,r<c&&(c=r),r>l&&(l=r),o<s&&(s=o),o>f&&(f=o));if(c>l||s>f)return this;for(this.cover(c,s).cover(l,f),n=0;n<i;++n)kt(this,a[n],u[n],t[n]);return this},Tt.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a,u,c=o-n||1,s=this._root;n>t||t>=o||r>e||e>=i;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=s,s=a,c*=2,u){case 0:o=n+c,i=r+c;break;case 1:n=o-c,i=r+c;break;case 2:o=n+c,r=i-c;break;case 3:n=o-c,r=i-c}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},Tt.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Tt.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Tt.find=function(t,e,n){var r,o,i,a,u,c,s,l=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],y=this._root;for(y&&d.push(new Ct(y,l,f,h,p)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,p=e+n,n*=n);c=d.pop();)if(!(!(y=c.node)||(o=c.x0)>h||(i=c.y0)>p||(a=c.x1)<l||(u=c.y1)<f))if(y.length){var v=(o+a)/2,g=(i+u)/2;d.push(new Ct(y[3],v,g,a,u),new Ct(y[2],o,g,v,u),new Ct(y[1],v,i,a,g),new Ct(y[0],o,i,v,g)),(s=(e>=g)<<1|t>=v)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var m=t-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),w=m*m+b*b;if(w<n){var x=Math.sqrt(n=w);l=t-x,f=e-x,h=t+x,p=e+x,r=y.data}}return r},Tt.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,o,i,a,u,c,s,l,f,h,p=this._root,d=this._x0,y=this._y0,v=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((s=i>=(u=(d+v)/2))?d=u:v=u,(l=a>=(c=(y+g)/2))?y=c:g=c,e=p,!(p=p[f=l<<1|s]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(o=p.next)&&delete p.next,r?(o?r.next=o:delete r.next,this):e?(o?e[f]=o:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=o,this)},Tt.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Tt.root=function(){return this._root},Tt.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Tt.visit=function(t){var e,n,r,o,i,a,u=[],c=this._root;for(c&&u.push(new Ct(c,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(c=e.node,r=e.x0,o=e.y0,i=e.x1,a=e.y1)&&c.length){var s=(r+i)/2,l=(o+a)/2;(n=c[3])&&u.push(new Ct(n,s,l,i,a)),(n=c[2])&&u.push(new Ct(n,r,l,s,a)),(n=c[1])&&u.push(new Ct(n,s,o,i,l)),(n=c[0])&&u.push(new Ct(n,r,o,s,l))}return this},Tt.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ct(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var i,a=e.x0,u=e.y0,c=e.x1,s=e.y1,l=(a+c)/2,f=(u+s)/2;(i=o[0])&&n.push(new Ct(i,a,u,l,f)),(i=o[1])&&n.push(new Ct(i,l,u,c,f)),(i=o[2])&&n.push(new Ct(i,a,f,l,s)),(i=o[3])&&n.push(new Ct(i,l,f,c,s))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Tt.x=function(t){return arguments.length?(this._x=t,this):this._x},Tt.y=function(t){return arguments.length?(this._y=t,this):this._y};var Ht=Array.prototype.find;function Yt(){return this.firstElementChild}var Zt=Array.prototype.filter;function Ut(){return this.children}function $t(t){return new Array(t.length)}function Vt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Gt(t){return function(){return t}}function Kt(t,e,n,r,o,i){for(var a,u=0,c=e.length,s=i.length;u<s;++u)(a=e[u])?(a.__data__=i[u],r[u]=a):n[u]=new Vt(t,i[u]);for(;u<c;++u)(a=e[u])&&(o[u]=a)}function Jt(t,e,n,r,o,i,a){var u,c,s,l=new Map,f=e.length,h=i.length,p=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(p[u]=s=a.call(c,c.__data__,u,e)+"",l.has(s)?o[u]=c:l.set(s,c));for(u=0;u<h;++u)s=a.call(t,i[u],u,i)+"",(c=l.get(s))?(r[u]=c,c.__data__=i[u],l.delete(s)):n[u]=new Vt(t,i[u]);for(u=0;u<f;++u)(c=e[u])&&l.get(p[u])===c&&(o[u]=c)}function Qt(t){return t.__data__}function te(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Vt.prototype={constructor:Vt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ee="http://www.w3.org/1999/xhtml",ne={svg:"http://www.w3.org/2000/svg",xhtml:ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function re(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ne.hasOwnProperty(e)?{space:ne[e],local:t}:t}function oe(t){return function(){this.removeAttribute(t)}}function ie(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ae(t,e){return function(){this.setAttribute(t,e)}}function ue(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ce(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function se(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function le(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fe(t){return function(){this.style.removeProperty(t)}}function he(t,e,n){return function(){this.style.setProperty(t,e,n)}}function pe(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function de(t,e){return t.style.getPropertyValue(e)||le(t).getComputedStyle(t,null).getPropertyValue(e)}function ye(t){return function(){delete this[t]}}function ve(t,e){return function(){this[t]=e}}function ge(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function me(t){return t.trim().split(/^|\s+/)}function be(t){return t.classList||new we(t)}function we(t){this._node=t,this._names=me(t.getAttribute("class")||"")}function xe(t,e){for(var n=be(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function _e(t,e){for(var n=be(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Pe(t){return function(){xe(this,t)}}function Se(t){return function(){_e(this,t)}}function Oe(t,e){return function(){(e.apply(this,arguments)?xe:_e)(this,t)}}function ke(){this.textContent=""}function Ce(t){return function(){this.textContent=t}}function Me(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ae(){this.innerHTML=""}function Ee(t){return function(){this.innerHTML=t}}function De(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function je(){this.nextSibling&&this.parentNode.appendChild(this)}function Te(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Re(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ee&&e.documentElement.namespaceURI===ee?e.createElement(t):e.createElementNS(n,t)}}function Ie(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ne(t){var e=re(t);return(e.local?Ie:Re)(e)}function ze(){return null}function Fe(){var t=this.parentNode;t&&t.removeChild(this)}function We(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Le(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Be(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function qe(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,u=o.length;a<u;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function He(t,e,n){var r=le(t),o=r.CustomEvent;"function"===typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ye(t,e){return function(){return He(this,t,e)}}function Ze(t,e){return function(){return He(this,t,e.apply(this,arguments))}}we.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ue=[null];function $e(t,e){this._groups=t,this._parents=e}function Ve(){return new $e([[document.documentElement]],Ue)}$e.prototype=Ve.prototype={constructor:$e,select:function(t){"function"!==typeof t&&(t=Lt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=e[o],c=u.length,s=r[o]=new Array(c),l=0;l<c;++l)(i=u[l])&&(a=t.call(i,i.__data__,l,u))&&("__data__"in i&&(a.__data__=i.__data__),s[l]=a);return new $e(r,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Xt(e)}}(t):function(t){return null==t?Bt:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,u=e[i],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),o.push(a));return new $e(r,o)},selectChild:function(t){return this.select(null==t?Yt:function(t){return function(){return Ht.call(this.children,t)}}("function"===typeof t?t:qt(t)))},selectChildren:function(t){return this.selectAll(null==t?Ut:function(t){return function(){return Zt.call(this.children,t)}}("function"===typeof t?t:qt(t)))},filter:function(t){"function"!==typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,c=r[o]=[],s=0;s<u;++s)(i=a[s])&&t.call(i,i.__data__,s,a)&&c.push(i);return new $e(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Qt);var n=e?Jt:Kt,r=this._parents,o=this._groups;"function"!==typeof t&&(t=Gt(t));for(var i=o.length,a=new Array(i),u=new Array(i),c=new Array(i),s=0;s<i;++s){var l=r[s],f=o[s],h=f.length,p=Xt(t.call(l,l&&l.__data__,s,r)),d=p.length,y=u[s]=new Array(d),v=a[s]=new Array(d),g=c[s]=new Array(h);n(l,f,y,v,g,p,e);for(var m,b,w=0,x=0;w<d;++w)if(m=y[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<d;);m._next=b||null}}return(a=new $e(a,r))._enter=u,a._exit=c,a},enter:function(){return new $e(this._enter||this._groups.map($t),this._parents)},exit:function(){return new $e(this._exit||this._groups.map($t),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){if(!(t instanceof $e))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;u<r;++u)a[u]=e[u];return new $e(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=te);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,u=n[i],c=u.length,s=o[i]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new $e(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=re(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ie:oe:"function"===typeof e?n.local?se:ce:n.local?ue:ae)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?fe:"function"===typeof e?pe:he)(t,e,null==n?"":n)):de(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ye:"function"===typeof e?ge:ve)(t,e)):this.node()[t]},classed:function(t,e){var n=me(t+"");if(arguments.length<2){for(var r=be(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof e?Oe:e?Pe:Se)(n,e))},text:function(t){return arguments.length?this.each(null==t?ke:("function"===typeof t?Me:Ce)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ae:("function"===typeof t?De:Ee)(t)):this.node().innerHTML},raise:function(){return this.each(je)},lower:function(){return this.each(Te)},append:function(t){var e="function"===typeof t?t:Ne(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:Ne(t),r=null==e?ze:"function"===typeof e?e:Lt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Fe)},clone:function(t){return this.select(t?Le:We)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=Xe(t+""),a=i.length;if(!(arguments.length<2)){for(u=e?qe:Be,r=0;r<a;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"===typeof e?Ze:Ye)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};function Ge(t){return"string"===typeof t?new $e([[document.querySelector(t)]],[document.documentElement]):new $e([[t]],Ue)}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qe(t,e){return!e||"object"!==en(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var en=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function nn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Je(t);if(e){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}var rn=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(c,t);var e,n,o,a=nn(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,t)).ref=r.createRef(),e.clicked=!1,e.dragHappened=!1,e.handleDragEnd=function(t){var n=e.ref.current;if(null!==n){if(!e.dragHappened)if(e.clicked){var r=Ft(t,n),o=e.props.onDoubleClick;void 0!==o&&o(t,r)}else e.clicked=!0,setTimeout((function(){e.clicked=!1}),300);Ge(u(n)).on(l,null).on(f,null).on(h,null).on(p,null),e.setState({startPosition:null})}},e.handleDrag=function(t){var n=e.ref.current;if(null!==n){e.dragHappened=!0;var r=e.props,o=r.getMouseDelta,a=r.inverted,u=void 0===a||a,c=e.state.startPosition;if(null!==c){var s=c.startScale,l=o(c.startXY,Ft(t,n)),f=function(t,e){let n=0,r=0;if(void 0===e)for(let o of t)null!=o&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}(s.range());if(void 0===f)return;var h=s.range().map((function(t){return u?t-i(t-f)*l:t+i(t-f)*l})),p=h.map(s.invert);if(i(g(s.range())-v(s.range()))===i(g(h)-v(h))){var d=e.props.axisZoomCallback;void 0!==d&&d(p)}}}},e.handleDragStartTouch=function(t){var n=e.ref.current;if(null!==n){e.dragHappened=!1;var r=e.props,o=(0,r.getScale)((0,r.getMoreProps)());if(1===t.touches.length&&void 0!==o.invert){Ge(u(n)).on(h,e.handleDrag).on(p,e.handleDragEnd);var i=w(d(t.touches[0]),t);e.setState({startPosition:{startScale:o,startXY:i}})}}},e.handleDragStartMouse=function(t){t.preventDefault();var n=e.ref.current;if(null!==n){e.dragHappened=!1;var r=e.props,o=(0,r.getScale)((0,r.getMoreProps)());if(void 0!==o.invert){Ge(u(n)).on(l,e.handleDrag,!1).on(f,e.handleDragEnd,!1);var i=x(t);e.setState({startPosition:{startXY:i,startScale:o}})}}},e.handleRightClick=function(t){t.stopPropagation(),t.preventDefault();var n=e.ref.current;if(null!==n){var r=e.props.onContextMenu;if(void 0!==r){var o=x(t,n.getBoundingClientRect());Ge(u(n)).on(l,null).on(f,null),e.setState({startPosition:null}),r(t,o)}}},e.state={startPosition:null},e}return e=c,(n=[{key:"render",value:function(){var t=this.props,e=t.bg,n=t.className,o=t.zoomCursorClassName,i=null!==this.state.startPosition?o:"react-financial-charts-default-cursor";return r.createElement("rect",{className:"react-financial-charts-enable-interaction ".concat(i," ").concat(n),ref:this.ref,x:e.x,y:e.y,opacity:0,height:e.h,width:e.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})}}])&&Ke(e.prototype,n),o&&Ke(e,o),c}(r.Component);function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function an(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sn(t,e){return!e||"object"!==hn(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ln(t,e){return(ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return on(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hn=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function pn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cn(t);if(e){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}var dn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},yn=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}(a,t);var e,n,o,i=pn(a);function a(){var t;return an(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).chartRef=r.createRef(),t.getMoreProps=function(){return t.chartRef.current.getMoreProps()},t.drawOnCanvas=function(e,n){var r=t.props,o=r.showDomain,i=r.showGridLines,a=r.showTickLabel,u=r.showTicks,c=r.transform,s=r.range,l=r.getScale,f=r.tickLabelFill;e.save(),e.translate(c[0],c[1]);var h=l(n),p=vn(t.props,h);if(u&&mn(e,p),i&&p.ticks.forEach((function(t){bn(e,t,p,n)})),a){var d=p.fontFamily,y=p.fontSize,v=p.fontWeight,g=p.textAnchor;e.font="".concat(v," ").concat(y,"px ").concat(d),void 0!==f&&(e.fillStyle=f),e.textAlign="middle"===g?"center":g,p.ticks.forEach((function(t){xn(e,t,p)}))}o&&gn(e,t.props,s),e.restore()},t}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.bg,n=t.axisZoomCallback,o=t.className,i=t.zoomCursorClassName,a=t.zoomEnabled,u=t.getScale,c=t.inverted,s=t.transform,l=t.getMouseDelta,f=t.edgeClip,h=t.onContextMenu,p=t.onDoubleClick,d=a?r.createElement(rn,{bg:e,getScale:u,getMoreProps:this.getMoreProps,getMouseDelta:l,axisZoomCallback:n,className:o,zoomCursorClassName:i,inverted:c,onContextMenu:h,onDoubleClick:p}):null;return r.createElement("g",{transform:"translate(".concat(s[0],", ").concat(s[1],")")},d,r.createElement(Z,{ref:this.chartRef,canvasToDraw:T,clip:!1,edgeClip:f,canvasDraw:this.drawOnCanvas,drawOn:["pan"]}))}}])&&un(e.prototype,n),o&&un(e,o),a}(r.Component);yn.defaultProps={edgeClip:!1,zoomEnabled:!1,zoomCursorClassName:""};var vn=function(t,e){var n,r=t.orient,o=t.innerTickSize,i=void 0===o?4:o,a=t.tickFormat,u=t.tickPadding,c=void 0===u?4:u,s=t.tickLabelFill,l=t.tickStrokeWidth,f=t.tickStrokeDasharray,h=t.fontSize,p=void 0===h?12:h,d=t.fontFamily,y=t.fontWeight,v=t.showTicks,g=t.showTickLabel,m=t.ticks,b=t.tickValues,w=t.tickStrokeStyle,x=t.tickInterval,_=t.tickIntervalFunction,P=dn(t,["orient","innerTickSize","tickFormat","tickPadding","tickLabelFill","tickStrokeWidth","tickStrokeDasharray","fontSize","fontFamily","fontWeight","showTicks","showTickLabel","ticks","tickValues","tickStrokeStyle","tickInterval","tickIntervalFunction"]);if(void 0!==b)n="function"===typeof b?b(e.domain()):b;else if(void 0!==x){var S=fn(e.domain(),2),O=S[0],k=S[1],C=function(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}(O,k,(k-O)/x);n=_?_(O,k,x):C}else n=void 0!==e.ticks?e.ticks(m):e.domain();var M,A,E,D,j=void 0===a?e.tickFormat(m):function(t){return a(t)||""},T="top"===r||"left"===r?-1:1,R=Math.max(i,0)+c;if("bottom"===r||"top"===r){A=T<0?"0em":".71em",E=T<0?0:.71*p,D="middle";var I=T*i,N=T*R;if(M=n.map((function(t){var n=Math.round(e(t));return{value:t,x1:n,y1:0,x2:n,y2:I,labelX:n,labelY:N}})),v){for(var z=M.map((function(t){return{id:t.value,value:t.value,fy:t.y2,origX:t.x1}})),F=St(z).force("x",function(t){var e,n,r,o=Ot(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vx+=(r[i]-o.x)*n[i]*t}function a(){if(e){var i,a=e.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!==typeof t&&(t=Ot(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"===typeof t?t:Ot(+t),a(),i):o},i.x=function(e){return arguments.length?(t="function"===typeof e?e:Ot(+e),a(),i):t},i}((function(t){return t.origX})).strength(1)).force("collide",function(t){var e,n,r,o=1,i=1;function a(){for(var t,a,c,s,l,f,h,p=e.length,d=0;d<i;++d)for(a=Et(e,It,Nt).visitAfter(u),t=0;t<p;++t)c=e[t],f=n[c.index],h=f*f,s=c.x+c.vx,l=c.y+c.vy,a.visit(y);function y(t,e,n,i,a){var u=t.data,p=t.r,d=f+p;if(!u)return e>s+d||i<s-d||n>l+d||a<l-d;if(u.index>c.index){var y=s-u.x-u.vx,v=l-u.y-u.vy,g=y*y+v*v;g<d*d&&(0===y&&(g+=(y=Rt(r))*y),0===v&&(g+=(v=Rt(r))*v),g=(d-(g=Math.sqrt(g)))/g*o,c.vx+=(y*=g)*(d=(p*=p)/(h+p)),c.vy+=(v*=g)*d,u.vx-=y*(d=1-d),u.vy-=v*d)}}}function u(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function c(){if(e){var r,o,i=e.length;for(n=new Array(i),r=0;r<i;++r)o=e[r],n[o.index]=+t(o,r,e)}}return"function"!==typeof t&&(t=Ot(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,c()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(o=+t,a):o},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:Ot(+e),c(),a):t},a}(22)).stop(),W=0;W<100;++W)F.tick();M=function(){return G(arguments)}(M,z).map((function(t){var e=t[0],n=t[1];return Math.abs(n.x-n.origX)>.01?Object.assign(Object.assign({},e),{x2:n.x,labelX:n.x}):e}))}}else M=n.map((function(t){var n=Math.round(e(t));return{value:t,x1:0,y1:n,x2:T*i,y2:n,labelX:T*R,labelY:n}})),A=".32em",E=.32*p,D=T<0?"end":"start";return Object.assign({orient:r,ticks:M,scale:e,tickStrokeStyle:w,tickLabelFill:s||w,tickStrokeWidth:l,tickStrokeDasharray:f,dy:A,canvas_dy:E,textAnchor:D,fontSize:p,fontFamily:d,fontWeight:y,format:j,showTickLabel:g},P)},gn=function(t,e,n){var r=e.orient,o=e.outerTickSize,i=e.strokeStyle,a=e.strokeWidth,u="top"===r||"left"===r?-1:1,c="bottom"===r||"top"===r;t.lineWidth=a,t.strokeStyle=i,t.beginPath();var s=v(n),l=g(n),f=u*o;c?(t.moveTo(s,f),t.lineTo(s,0),t.lineTo(l,0),t.lineTo(l,f)):(t.moveTo(f,s),t.lineTo(0,s),t.lineTo(0,l),t.lineTo(f,l)),t.stroke()},mn=function(t,e){var n=e.ticks,r=e.tickStrokeStyle;void 0!==r&&(t.strokeStyle=r,t.fillStyle=r),n.forEach((function(n){wn(t,n,e)}))},bn=function(t,e,n,r){var o=n.orient,i=n.gridLinesStrokeWidth,a=n.gridLinesStrokeStyle,u=n.gridLinesStrokeDasharray,c=r.chartConfig,s=c.height,l=c.width;void 0!==a&&(t.strokeStyle=a),t.beginPath();var f="top"===o||"left"===o?1:-1;switch(o){case"top":case"bottom":t.moveTo(e.x1,0),t.lineTo(e.x2,f*s);break;default:t.moveTo(0,e.y1),t.lineTo(f*l,e.y2)}t.lineWidth=i;var h=U(u);t.setLineDash(h),t.stroke()},wn=function(t,e,n){var r=n.tickStrokeWidth,o=n.tickStrokeDasharray;t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=r;var i=U(o);t.setLineDash(i),t.stroke()},xn=function(t,e,n){var r=n.canvas_dy,o=(0,n.format)(e.value);t.beginPath(),t.fillText(o,e.labelX,e.labelY+r)};function _n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function On(t,e){return!e||"object"!==Cn(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cn=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Mn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sn(t);if(e){var o=Sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return On(this,n)}}var An=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},En=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(a,t);var e,n,o,i=Mn(a);function a(){var t;return _n(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).axisZoomCallback=function(e){(0,t.context.xAxisZoom)(e)},t.helper=function(){var e,n=t.props,r=n.axisAt,o=n.xZoomHeight,i=void 0===o?a.defaultProps.xZoomHeight:o,u=n.orient,c=n.ticks,s=t.context.chartConfig,l=s.width,f=s.height,h=l,p=i;switch(r){case"top":e=0;break;case"bottom":e=f;break;case"middle":e=f/2;break;default:e=r}var d="top"===u?-i:0;return{transform:[0,e],range:[0,l],getScale:t.getXScale,bg:{x:0,y:d,h:p,w:h},ticks:null!==c&&void 0!==c?c:t.getXTicks(l)}},t.getXTicks=function(t){return t<400?2:t<500?6:8},t.getXScale=function(t){var e=t.xScale,n=t.width;if(e.invert){var r=[0,n],o=r.map(e.invert);return e.copy().domain(o).range(r)}return e},t}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.getMouseDelta,n=void 0===e?a.defaultProps.getMouseDelta:e,o=t.outerTickSize,i=void 0===o?a.defaultProps.outerTickSize:o,u=t.showTicks,c=t.strokeStyle,s=void 0===c?a.defaultProps.strokeStyle:c,l=t.strokeWidth,f=void 0===l?a.defaultProps.strokeWidth:l,h=t.zoomEnabled,p=An(t,["getMouseDelta","outerTickSize","showTicks","strokeStyle","strokeWidth","zoomEnabled"]),d=An(this.helper(),[]);return r.createElement(yn,Object.assign({},p,d,{getMouseDelta:n,outerTickSize:i,showTicks:u,strokeStyle:s,strokeWidth:f,zoomEnabled:h&&u,axisZoomCallback:this.axisZoomCallback}))}}])&&Pn(e.prototype,n),o&&Pn(e,o),a}(r.Component);function Dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rn(t,e){return!e||"object"!==Nn(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}En.defaultProps={axisAt:"bottom",className:"react-financial-charts-x-axis",domainClassName:"react-financial-charts-axis-domain",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,getMouseDelta:function(t,e){return t[0]-e[0]},gridLinesStrokeStyle:"#E2E4EC",gridLinesStrokeWidth:1,orient:"bottom",outerTickSize:0,innerTickSize:4,showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",xZoomHeight:25,zoomEnabled:!0,zoomCursorClassName:"react-financial-charts-ew-resize-cursor"},En.contextTypes={chartConfig:o.object.isRequired,xAxisZoom:o.func.isRequired};var Nn=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function zn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tn(t);if(e){var o=Tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rn(this,n)}}var Fn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},Wn=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(a,t);var e,n,o,i=zn(a);function a(){var t;return Dn(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).axisZoomCallback=function(e){var n=t.context,r=n.chartId;(0,n.yAxisZoom)(r,e)},t.helper=function(){var e,n=t.props,r=n.axisAt,o=n.ticks,i=n.yZoomWidth,u=void 0===i?a.defaultProps.yZoomWidth:i,c=n.orient,s=t.context.chartConfig,l=s.width,f=s.height,h=u,p=f;switch(r){case"left":e=0;break;case"right":e=l;break;case"middle":e=l/2;break;default:e=r}var d="left"===c?-u:0;return{transform:[e,0],range:[0,f],getScale:t.getYScale,bg:{x:d,y:0,h:p,w:h},ticks:null!==o&&void 0!==o?o:t.getYTicks(f),zoomEnabled:t.context.chartConfig.yPan}},t.getYTicks=function(t){return t<300?2:t<500?6:8},t.getYScale=function(t){var e=t.chartConfig,n=e.yScale,r=e.flipYScale,o=e.height;if(n.invert){var i=r?[0,o]:[o,0],a=i.map(n.invert);return n.copy().domain(a).range(i)}return n},t}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.getMouseDelta,n=void 0===e?a.defaultProps.getMouseDelta:e,o=t.outerTickSize,i=void 0===o?a.defaultProps.outerTickSize:o,u=t.strokeStyle,c=void 0===u?a.defaultProps.strokeStyle:u,s=t.strokeWidth,l=void 0===s?a.defaultProps.strokeWidth:s,f=Fn(t,["getMouseDelta","outerTickSize","strokeStyle","strokeWidth"]),h=this.helper(),p=h.zoomEnabled,d=Fn(h,["zoomEnabled"]);return r.createElement(yn,Object.assign({},f,d,{edgeClip:!0,getMouseDelta:n,outerTickSize:i,strokeStyle:c,strokeWidth:l,zoomEnabled:this.props.zoomEnabled&&p,axisZoomCallback:this.axisZoomCallback}))}}])&&jn(e.prototype,n),o&&jn(e,o),a}(r.Component);function Ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bn(t){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function Hn(t,e){return!e||"object"!==Zn(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yn(t,e){return(Yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Wn.defaultProps={axisAt:"right",className:"react-financial-charts-y-axis",domainClassName:"react-financial-charts-axis-domain",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,getMouseDelta:function(t,e){return t[1]-e[1]},gridLinesStrokeStyle:"#E2E4EC",gridLinesStrokeWidth:1,innerTickSize:4,outerTickSize:0,orient:"right",showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",yZoomWidth:40,zoomEnabled:!0,zoomCursorClassName:"react-financial-charts-ns-resize-cursor"},Wn.contextTypes={yAxisZoom:o.func.isRequired,chartId:o.oneOfType([o.number,o.string]).isRequired,chartConfig:o.object.isRequired};var Zn=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Un(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bn(t);if(e){var o=Bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}var $n=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yn(t,e)}(a,t);var e,n,o,i=Un(a);function a(){var t;return Ln(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).drawOnCanvas=function(e,n){var r=t.getCircle(n);if(void 0!==r){var o=t.props,i=o.fillStyle,a=o.r,u=o.strokeStyle,c=qn(i,Function)?i(n.currentItem):i;void 0!==c&&(e.fillStyle=c);var s=qn(u,Function)?u(n.currentItem):u;void 0!==s&&(e.strokeStyle=s),e.beginPath(),e.arc(r.x,r.y,a,0,2*Math.PI,!1),e.fill(),void 0!==s&&e.stroke()}},t.getCircle=function(e){var n=e.show,r=e.xScale,o=e.chartConfig.yScale,i=e.currentItem,a=e.xAccessor;if(n&&void 0!==i){var u=t.props.yAccessor,c=a(i),s=u(i);if(void 0!==s)return{x:Math.round(r(c)),y:Math.round(o(s))}}},t}return e=a,(n=[{key:"render",value:function(){return r.createElement(Z,{canvasDraw:this.drawOnCanvas,canvasToDraw:R,drawOn:["mousemove","pan"]})}}])&&Xn(e.prototype,n),o&&Xn(e,o),a}(r.Component);$n.defaultProps={fillStyle:"#2196f3",r:3};var Vn=function(t){var e,n,r=t.coordinate,o=t.show,i=t.type,a=t.orient,u=t.edgeAt,c=t.hideLine,s=t.lineStrokeDasharray,l=t.fill,f=t.fontFamily,h=t.fontSize,p=t.textFill,d=t.lineStroke,y=t.stroke,v=t.strokeWidth,g=t.arrowWidth,m=t.rectWidth,b=t.rectHeight,w=t.rectRadius,x=t.x1,_=t.y1,P=t.x2,S=t.y2,O=t.dx;if(!o)return null;if(void 0!==r){var k,C,M,A;if("horizontal"===i)k=O+("right"===a?u+1:u-m-1),C=_-b/2-v,M=O+("right"===a?u+m/2:u-m/2),A=_;else{var E="bottom"===a?v-1:1-v;k=x-m/2,C=("bottom"===a?u:u-b)+E,M=x,A=("bottom"===a?u+b/2:u-b/2)+E}e={edgeXRect:k,edgeYRect:C,rectHeight:b+v,rectWidth:m,rectRadius:w,fill:l,arrowWidth:g,stroke:y,strokeWidth:v},n={edgeXText:M,edgeYText:A,textAnchor:"middle",fontFamily:f,fontSize:h,textFill:p,displayCoordinate:r}}return{coordinateBase:e,coordinate:n,line:c?void 0:{stroke:d,strokeDasharray:s,x1:x,y1:_,x2:P,y2:S},orient:a}},Gn=function(t,e){var n=e.coordinate,r=e.fitToText,o=e.fontSize,i=e.fontFamily,a=e.rectWidth;t.font="".concat(o,"px ").concat(i),t.textBaseline="middle";var u=a;r&&(u=Math.round(t.measureText(n).width+10));var c=Vn(Object.assign(Object.assign({},e),{rectWidth:u}));if(null!==c){if(void 0!==c.line&&m(c.line)){var s=U(c.line.strokeDasharray);t.setLineDash(s),t.strokeStyle=c.line.stroke,t.lineWidth=1,t.beginPath(),t.moveTo(c.line.x1,c.line.y1),t.lineTo(c.line.x2,c.line.y2),t.stroke()}if(t.setLineDash([]),void 0!==c.coordinateBase){var l=c.coordinateBase,f=l.arrowWidth,h=l.rectWidth,p=l.rectHeight,d=l.rectRadius;t.fillStyle=c.coordinateBase.fill,void 0!==c.coordinateBase.stroke&&(t.strokeStyle=c.coordinateBase.stroke,t.lineWidth=c.coordinateBase.strokeWidth);var y=c.coordinateBase.edgeXRect,v=c.coordinateBase.edgeYRect,g=p/2;t.beginPath(),f>0&&"right"===c.orient?(y-=f,t.moveTo(y,v+g),t.lineTo(y+f,v),t.lineTo(y+h+f,v),t.lineTo(y+h+f,v+p),t.lineTo(y+f,v+p),t.closePath()):f>0&&"left"===c.orient?(t.moveTo(y,v),t.lineTo(y+h,v),t.lineTo(y+h+f,v+g),t.lineTo(y+h,v+p),t.lineTo(y,v+p),t.closePath()):d?Kn(t,y-.5,v-.5,h,p,3):t.rect(y-.5,v,h,p),t.fill(),void 0!==c.coordinateBase.stroke&&t.stroke(),void 0!==c.coordinate&&(t.fillStyle=c.coordinate.textFill,t.textAlign="middle"===c.coordinate.textAnchor?"center":c.coordinate.textAnchor,t.fillText(c.coordinate.displayCoordinate,c.coordinate.edgeXText,c.coordinate.edgeYText))}}},Kn=function(t,e,n,r,o,i){t.beginPath(),t.moveTo(e+i,n),t.lineTo(e+r-i,n),t.quadraticCurveTo(e+r,n,e+r,n+i),t.lineTo(e+r,n+o-i),t.quadraticCurveTo(e+r,n+o,e+r-i,n+o),t.lineTo(e+i,n+o),t.quadraticCurveTo(e,n+o,e,n+o-i),t.lineTo(e,n+i),t.quadraticCurveTo(e,n,e+i,n),t.closePath()};function Jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function er(t,e){return!e||"object"!==rr(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nr(t,e){return(nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rr=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function or(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tr(t);if(e){var o=tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return er(this,n)}}var ir=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nr(t,e)}(a,t);var e,n,o,i=or(a);function a(){var t;return Jn(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).drawOnCanvas=function(e,n){var r=t.helper(t.props,n);null!==r&&Gn(e,r)},t.helper=function(t,e){var n=e.show,r=e.currentItem,o=e.chartConfig.height;if(b(r))return null;var i=t.customX,a=t.orient,u=t.at,c=t.rectRadius,s=t.rectWidth,l=t.rectHeight,f=t.stroke,h=t.strokeOpacity,p=t.strokeWidth,d=t.fill,y=t.opacity,v=t.fitToText,g=t.fontFamily,m=t.fontSize,w=t.textFill,x="bottom"===u?o:0,_=i(t,e),P=_.x;return{coordinate:_.coordinate,fitToText:v,show:n,type:"vertical",orient:a,edgeAt:x,hideLine:!0,fill:d,opacity:y,fontFamily:g,fontSize:m,textFill:w,stroke:f,strokeOpacity:h,strokeWidth:p,rectWidth:s,rectHeight:l,rectRadius:c,arrowWidth:0,x1:P,x2:P,y1:0,y2:o}},t}return e=a,(n=[{key:"render",value:function(){return r.createElement(Z,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:R,drawOn:["mousemove","pan","drag"]})}}])&&Qn(e.prototype,n),o&&Qn(e,o),a}(r.Component);function ar(t,e){let n,r;if(void 0===e)for(const o of t)null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}function ur(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function cr(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}ir.defaultProps={at:"bottom",customX:function(t,e){var n=e.xScale,r=e.xAccessor,o=e.currentItem,i=e.mouseXY,a=t.snapX,u=a?n(r(o)):i[0],c=e.displayXAccessor,s=t.displayFormat;return{x:u,coordinate:s(a?c(o):n.invert(u))}},fill:"#4C525E",fitToText:!0,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"bottom",rectWidth:80,rectHeight:20,snapX:!0,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0};var sr=function(t,e){if(t===e)return!0;if(!cr(t,Object)||!cr(e,Object))return!1;for(var n=Object.keys(t),r=n.length,o=0;o<r;o++)if(!(n[o]in e))return!1;for(var i=0;i<r;i++)if(t[n[i]]!==e[n[i]])return!1;return r===Object.keys(e).length},lr=n(4779),fr=n.n(lr),hr=Math.sqrt(50),pr=Math.sqrt(10),dr=Math.sqrt(2);function yr(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=hr?10:i>=pr?5:i>=dr?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=hr?10:i>=pr?5:i>=dr?2:1)}function vr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gr(t){let e=t,n=t;function r(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>vr(t(e),n)}(t)),{left:r,center:function(t,n,o,i){null==o&&(o=0),null==i&&(i=t.length);const a=r(t,n,o,i-1);return a>o&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}const mr=gr(vr),br=mr.right;mr.left,gr((function(t){return null===t?NaN:+t})).center;var wr=br;function xr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pr(){}var Sr=.7,Or=1/Sr,kr="\\s*([+-]?\\d+)\\s*",Cr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ar=/^#([0-9a-f]{3,8})$/,Er=new RegExp("^rgb\\("+[kr,kr,kr]+"\\)$"),Dr=new RegExp("^rgb\\("+[Mr,Mr,Mr]+"\\)$"),jr=new RegExp("^rgba\\("+[kr,kr,kr,Cr]+"\\)$"),Tr=new RegExp("^rgba\\("+[Mr,Mr,Mr,Cr]+"\\)$"),Rr=new RegExp("^hsl\\("+[Cr,Mr,Mr]+"\\)$"),Ir=new RegExp("^hsla\\("+[Cr,Mr,Mr,Cr]+"\\)$"),Nr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zr(){return this.rgb().formatHex()}function Fr(){return this.rgb().formatRgb()}function Wr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ar.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Lr(e):3===n?new Hr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Er.exec(t))?new Hr(e[1],e[2],e[3],1):(e=Dr.exec(t))?new Hr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jr.exec(t))?Xr(e[1],e[2],e[3],e[4]):(e=Tr.exec(t))?Xr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Rr.exec(t))?$r(e[1],e[2]/100,e[3]/100,1):(e=Ir.exec(t))?$r(e[1],e[2]/100,e[3]/100,e[4]):Nr.hasOwnProperty(t)?Lr(Nr[t]):"transparent"===t?new Hr(NaN,NaN,NaN,0):null}function Lr(t){return new Hr(t>>16&255,t>>8&255,255&t,1)}function Xr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hr(t,e,n,r)}function Br(t){return t instanceof Pr||(t=Wr(t)),t?new Hr((t=t.rgb()).r,t.g,t.b,t.opacity):new Hr}function qr(t,e,n,r){return 1===arguments.length?Br(t):new Hr(t,e,n,null==r?1:r)}function Hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Yr(){return"#"+Ur(this.r)+Ur(this.g)+Ur(this.b)}function Zr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ur(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function $r(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gr(t,e,n,r)}function Vr(t){if(t instanceof Gr)return new Gr(t.h,t.s,t.l,t.opacity);if(t instanceof Pr||(t=Wr(t)),!t)return new Gr;if(t instanceof Gr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new Gr(a,u,c,t.opacity)}function Gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Kr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Jr(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}xr(Pr,Wr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:zr,formatHex:zr,formatHsl:function(){return Vr(this).formatHsl()},formatRgb:Fr,toString:Fr}),xr(Hr,qr,_r(Pr,{brighter:function(t){return t=null==t?Or:Math.pow(Or,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Sr:Math.pow(Sr,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yr,formatHex:Yr,formatRgb:Zr,toString:Zr})),xr(Gr,(function(t,e,n,r){return 1===arguments.length?Vr(t):new Gr(t,e,n,null==r?1:r)}),_r(Pr,{brighter:function(t){return t=null==t?Or:Math.pow(Or,t),new Gr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Sr:Math.pow(Sr,t),new Gr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Hr(Kr(t>=240?t-240:t+120,o,r),Kr(t,o,r),Kr(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Qr=t=>()=>t;function to(t,e){return function(n){return t+n*e}}function eo(t){return 1===(t=+t)?no:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Qr(isNaN(e)?n:e)}}function no(t,e){var n=e-t;return n?to(t,n):Qr(isNaN(t)?e:t)}var ro=function t(e){var n=eo(e);function r(t,e){var r=n((t=qr(t)).r,(e=qr(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=no(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function oo(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),u=new Array(o);for(n=0;n<o;++n)r=qr(e[n]),i[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return i=t(i),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=u(t),r+""}}}oo((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,u=r<e-1?t[r+2]:2*i-o;return Jr((n-r/e)*e,a,o,i,u)}})),oo((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Jr((n-r/e)*e,o,i,a,u)}}));function io(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=po(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function ao(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function uo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function co(t,e){var n,r={},o={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=po(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var so=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lo=new RegExp(so.source,"g");function fo(t,e){var n,r,o,i=so.lastIndex=lo.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(n=so.exec(t))&&(r=lo.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:uo(n,r)})),i=lo.lastIndex;return i<e.length&&(o=e.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})}function ho(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function po(t,e){var n,r=typeof e;return null==e||"boolean"===r?Qr(e):("number"===r?uo:"string"===r?(n=Wr(e))?(e=n,ro):fo:e instanceof Wr?ro:e instanceof Date?ao:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ho:Array.isArray(e)?io:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?co:uo)(t,e)}function yo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vo(t){return+t}var go=[0,1];function mo(t){return t}function bo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function wo(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=bo(o,r),i=n(a,i)):(r=bo(r,o),i=n(i,a)),function(t){return i(r(t))}}function xo(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=bo(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=wr(t,e,1,r)-1;return i[n](o[n](e))}}function _o(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Po(){var t,e,n,r,o,i,a=go,u=go,c=po,s=mo;function l(){var t=Math.min(a.length,u.length);return s!==mo&&(s=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?xo:wo,o=i=null,f}function f(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),u,c)))(t(s(e)))}return f.invert=function(n){return s(e((i||(i=r(u,a.map(t),uo)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,vo),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),c=yo,l()},f.clamp=function(t){return arguments.length?(s=!!t||mo,l()):s!==mo},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function So(){return Po()(mo,mo)}function Oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var ko,Co=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mo(t){if(!(e=Co.exec(t)))throw new Error("invalid format: "+t);var e;return new Ao({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ao(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Eo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Do(t){return(t=Eo(Math.abs(t)))?t[1]:NaN}function jo(t,e){var n=Eo(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}Mo.prototype=Ao.prototype,Ao.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var To={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jo(100*t,e),r:jo,s:function(t,e){var n=Eo(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(ko=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Eo(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ro(t){return t}var Io,No,zo,Fo=Array.prototype.map,Wo=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Lo(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ro:(e=Fo.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,u=e[0],c=0;o>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),i.push(t.substring(o-=u,o+u)),!((c+=u+1)>r));)u=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ro:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Fo.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"\u2212":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Mo(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,y=t.comma,v=t.precision,g=t.trim,m=t.type;"n"===m?(y=!0,m="g"):To[m]||(void 0===v&&(v=12),g=!0,m="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?o:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===h?i:/[%p]/.test(m)?c:"",x=To[m],_=/[defgprs%]/.test(m);function P(t){var o,i,c,h=b,P=w;if("c"===m)P=x(t)+P,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==f&&(S=!1),h=(S?"("===f?f:s:"-"===f||"("===f?"":f)+h,P=("s"===m?Wo[8+ko/3]:"")+P+(S&&"("===f?")":""),_)for(o=-1,i=t.length;++o<i;)if(48>(c=t.charCodeAt(o))||c>57){P=(46===c?a+t.slice(o+1):t.slice(o))+P,t=t.slice(0,o);break}}y&&!p&&(t=r(t,1/0));var O=h.length+t.length+P.length,k=O<d?new Array(d-O+1).join(e):"";switch(y&&p&&(t=r(k+t,k.length?d-P.length:1/0),k=""),n){case"<":t=h+t+P+k;break;case"=":t=h+k+t+P;break;case"^":t=k.slice(0,O=k.length>>1)+h+t+P+k.slice(O);break;default:t=k+h+t+P}return u(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),P.toString=function(){return t+""},P}return{format:f,formatPrefix:function(t,e){var n=f(((t=Mo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Do(e)/3))),o=Math.pow(10,-r),i=Wo[8+r/3];return function(t){return n(o*t)+i}}}}function Xo(t,e,n,r){var o,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=hr?o*=10:i>=pr?o*=5:i>=dr&&(o*=2),e<t?-o:o}(t,e,n);switch((r=Mo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Do(e)/3)))-Do(Math.abs(t)))}(i,a))||(r.precision=o),zo(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Do(e)-Do(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-Do(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return No(r)}function Bo(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=yr(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++u<o;)i[u]=(n+u)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++u<o;)i[u]=(n+u)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Xo(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,u=i.length-1,c=i[a],s=i[u],l=10;for(s<c&&(o=c,c=s,s=o,o=a,a=u,u=o);l-- >0;){if((o=yr(c,s,n))===r)return i[a]=c,i[u]=s,e(i);if(o>0)c=Math.floor(c/o)*o,s=Math.ceil(s/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,s=Math.floor(s*o)/o}r=o}return t},t}function qo(){var t=So();return t.copy=function(){return _o(t,qo())},Oo.apply(t,arguments),Bo(t)}function Ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zo(t){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uo(t,e){return!e||"object"!==Vo(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $o(t,e){return($o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Io=Lo({thousands:",",grouping:[3],currency:["$",""]}),No=Io.format,zo=Io.formatPrefix;var Vo=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Go(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zo(t);if(e){var o=Zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uo(this,n)}}var Ko=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$o(t,e)}(i,t);var e,n,r,o=Go(i);function i(){return Ho(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"shouldComponentUpdate",value:function(t,e,n){return!sr(this.props,t)||!sr(this.state,e)||!sr(this.context,n)}}])&&Yo(e.prototype,n),r&&Yo(e,r),i}(r.Component);function Jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ei(t){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ni(t,e){return!e||"object"!==ii(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ri(t,e){return(ri=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Jo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jo(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ii=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function ai(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ei(t);if(e){var o=ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ni(this,n)}}var ui=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ri(t,e)}(a,t);var e,n,o,i=ai(a);function a(){var t;return Qo(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).listener=function(e,n,r,o){var i=t.props,a=i.id,u=i.onContextMenu,c=i.onDoubleClick;switch(e){case"contextmenu":if(void 0===u)return;n.currentCharts.indexOf(a)>-1&&u(o,n);break;case"dblclick":if(void 0===c)return;n.currentCharts.indexOf(a)>-1&&c(o,n)}},t}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this.props.id;(0,this.context.subscribe)("chart_".concat(t),{listener:this.listener})}},{key:"componentWillUnmount",value:function(){var t=this.props.id;(0,this.context.unsubscribe)("chart_".concat(t))}},{key:"getChildContext",value:function(){var t=this.props.id,e=this.context.chartConfig.find((function(e){return e.id===t}));return{chartId:t,chartConfig:e}}},{key:"render",value:function(){var t=this,e=oi(this.context.chartConfig.find((function(e){return e.id===t.props.id})).origin,2),n=e[0],o=e[1];return r.createElement("g",{transform:"translate(".concat(n,", ").concat(o,")")},this.props.children)}}])&&ti(e.prototype,n),o&&ti(e,o),a}(Ko);ui.defaultProps={flipYScale:!1,id:0,origin:[0,0],padding:0,yPan:!0,yPanEnabled:!1,yScale:qo()},ui.contextTypes={chartConfig:o.array,subscribe:o.func.isRequired,unsubscribe:o.func.isRequired},ui.childContextTypes={chartConfig:o.object.isRequired,chartId:o.oneOfType([o.number,o.string]).isRequired};var ci=function(t,e,n){for(var r=0,o=t.length-1;o-r>1;){var i=Math.round((r+o)/2);n(t[i])<=e?r=i:o=i}var a=n(t[r]),u=n(t[o]);return(null===a||void 0===a?void 0:a.valueOf())===(null===e||void 0===e?void 0:e.valueOf())&&(o=r),(null===u||void 0===u?void 0:u.valueOf())===(null===e||void 0===e?void 0:e.valueOf())&&(r=o),a<e&&u<e&&(r=o),a>e&&u>e&&(o=r),{left:r,right:o}};function si(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function li(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||hi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fi(t){return function(t){if(Array.isArray(t))return si(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||hi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(t,e){if(t){if("string"===typeof t)return si(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(t,e):void 0}}function pi(t,e){var n=t.width,r=t.height;return{availableHeight:r,width:n,height:e.height||r}}function di(t){return function(e){var n=t(e);return function(t){return m(t)&&"object"===typeof t&&!Array.isArray(t)}(n)?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=Object.keys(t),r=new Array(n.length);return n.forEach((function(n,o){r[o]=e(t[n],n,t)})),r}(n):n}}function yi(t){if(Array.isArray(t)&&2===t.length){var e=li(t,2),n=e[0],r=e[1];return"number"===typeof n&&"number"===typeof r}return!1}var vi=function(t){return void 0!==t&&void 0!==t.id};function gi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r.Children.map(e,(function(e){if(void 0!==e&&null!==e&&vi(e.props)){var r=Object.assign(Object.assign({},ui.defaultProps),e.props),o=r.id,i=r.origin,u=r.padding,c=r.yExtents,s=r.yScale,l=r.flipYScale,f=r.yExtentsCalculator,h=s.copy(),p=pi(t,r),d=p.width,y=p.height,v=p.availableHeight,g=r.yPan,b=r.yPanEnabled,w=m(c)?(Array.isArray(c)?c:[c]).map(a):void 0,x=n.find((function(t){return t.id===o}));if(yi(c))if(m(x)&&x.yPan&&x.yPanEnabled&&g&&b&&sr(x.originalYExtentsProp,c))h.domain(x.yScale.domain());else{var _=li(c,2),P=_[0],S=_[1];h.domain([P,S])}else m(x)&&x.yPanEnabled&&(yi(x.originalYExtentsProp)||(h.domain(x.yScale.domain()),b=!0));return{id:o,origin:a(i)(d,v),padding:u,originalYExtentsProp:c,yExtents:w,yExtentsCalculator:f,flipYScale:l,yScale:h,yPan:g,yPanEnabled:b,width:d,height:y}}})).filter((function(t){return void 0!==t}))}function mi(t,e){return t.filter((function(t){var n=t.origin[1],r=n+t.height;return e[1]>n&&e[1]<r})).map((function(t){return t.id}))}function bi(t,e,n,r,o){var i=e.plotData,a=e.xAccessor,u=e.displayXAccessor,c=e.fullData,s=t.map((function(t){var e=t.yExtentsCalculator,o=t.yExtents,s=t.yScale;return{realYDomain:m(e)?e({plotData:i,xDomain:n,xAccessor:a,displayXAccessor:u,fullData:c}):function(t,e,n){var r=t.map((function(t){return n.map(di(t))})),o=fr()(r);return e.invert?ar(o):fi(new Set(o).values())}(o,s,i),yDomainDY:void 0!==r?s.range().map((function(t){return t-r})).map(s.invert):s.domain(),prevYDomain:s.domain()}}));return function(){var t=function(){var t,r=arguments.length;if(0===r)return[];for(var o=null!==(t=V(arguments,e))&&void 0!==t?t:0,i=new Array(o),a=-1;++a<o;){for(var u=-1,c=i[a]=new Array(r);++u<r;)c[u]=arguments[u][a];i[a]=n.apply(this,i[a])}return i},e=function(t){return t.length},n=P;return t.combine=function(e){return arguments.length?(n=e,t):n},t}().combine((function(t,e){var n=e.realYDomain,r=e.yDomainDY,i=e.prevYDomain,a=t.id,u=t.padding,c=t.height,s=t.yScale,l=t.yPan,f=t.flipYScale,h=t.yPanEnabled,p=void 0!==h&&h,d=void 0===o||o.indexOf(a)>-1,y=l&&p?d?r:i:n,v=function(t,e,n,r){if(t.rangeRoundPoints||b(t.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints&&t.rangeRoundPoints(r?[0,e]:[e,0],n),t.rangeRound&&t.range(r?[0,e]:[e,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},i=o.top,a=o.bottom;t.range(r?[i,e-a]:[e-a,i])}return t}(s.copy().domain(y),c,u,f);return Object.assign(Object.assign({},t),{yScale:v,realYDomain:n})}))(t,s)}function wi(t,e,n,r){var o;if(t.invert)o=function(t,e,n){var r=ci(t,e,n),o=r.left,i=r.right;if(o===i)return t[o];var a=n(t[o]),u=n(t[i]);return Math.abs(a.valueOf()-e.valueOf())<Math.abs(u.valueOf()-e.valueOf())?t[o]:t[i]}(r,t.invert(n[0]),e);else{var i=t.range().map((function(t,e){return{x:Math.abs(t-n[0]),idx:e}})).reduce((function(t,e){return t.x<e.x?t:e}));o=void 0!==i?r[i.idx]:r[0]}return o}function xi(t,e){return t.target&&(t=zt(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Ft(t,e)))}function _i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oi(t){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ki(t,e){return!e||"object"!==Ai(e)&&"function"!==typeof e?Pi(t):e}function Ci(t,e){return(Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return _i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ai=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Ei(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Oi(t);if(e){var o=Oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ki(this,n)}}var Di=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},ji=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(a,t);var e,n,o,i=Ei(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).dx=0,e.dy=0,e.mouseInside=!1,e.mouseInteraction=!0,e.ref=r.createRef(),e.handleEnter=function(t){var n=e.props.onMouseEnter;if(void 0!==n){if(e.mouseInside=!0,!e.state.panInProgress&&!e.state.dragInProgress)Ge(u(e.ref.current)).on(l,e.handleMouseMove);n(t)}},e.handleLeave=function(t){var n=e.props.onMouseLeave;if(void 0!==n){if(e.mouseInside=!1,!e.state.panInProgress&&!e.state.dragInProgress)Ge(u(e.ref.current)).on(l,null);n(t)}},e.handleWheel=function(t){var n=e.props,r=n.pan,o=n.onPan,i=n.zoom,a=n.onZoom;if(r||i){var u=e.state.panInProgress,c=Math.abs(t.deltaY)>Math.abs(t.deltaX)&&Math.abs(t.deltaY)>0,s=x(t);if(t.preventDefault(),i&&e.focus&&c&&!u){var l=t.deltaY>0?1:-1;void 0!==a&&a(l,s,t)}else if(e.focus){if(e.shouldPan()&&void 0!==e.state.panStart){var f=e.state.panStart,h=f.panStartXScale,p=f.chartsToPan;e.lastNewPos=s,e.panHappened=!0,void 0===e.dx&&(e.dx=0),void 0===e.dy&&(e.dy=0),e.dx-=t.deltaX,e.dy+=t.deltaY;var d={dx:e.dx,dy:e.dy};void 0!==o&&o(s,h,d,p,t)}else{var y=e.props,v=y.xScale,g=mi(y.chartConfig,s);e.dx=0,e.dy=0,e.setState({panInProgress:!0,panStart:{panStartXScale:v,panOrigin:s,chartsToPan:g}})}e.queuePanEnd(t)}}},e.handleMouseMove=function(t){var n=e.props,r=n.onMouseMove,o=n.mouseMove;void 0!==r&&(e.mouseInteraction&&o&&!e.state.panInProgress&&r(Ft(t,e.ref.current),"mouse",t))},e.handleClick=function(t){var n=x(t),r=e.props,o=r.onClick,i=r.onDoubleClick;e.panHappened||e.dragHappened||(e.clicked&&void 0!==i?(i(n,t),e.clicked=!1):void 0!==o&&(o(n,t),e.clicked=!0,setTimeout((function(){e.clicked&&(e.clicked=!1)}),400)))},e.handleRightClick=function(t){t.stopPropagation(),t.preventDefault();var n=e.props,r=n.onContextMenu,o=n.onPanEnd,i=x(t,e.ref.current.getBoundingClientRect());if(void 0!==e.state.panStart){var a=e.state.panStart,c=a.panStartXScale,s=Mi(a.panOrigin,2),h=s[0],p=s[1],d=a.chartsToPan;e.panHappened&&void 0!==o&&o(i,c,{dx:h,dy:p},d,t),Ge(u(e.ref.current)).on(l,null).on(f,null),e.setState({panInProgress:!1,panStart:void 0})}void 0!==r&&r(i,t)},e.handleDrag=function(t){var n=e.props.onDrag;if(void 0!==n){e.dragHappened=!0;var r=e.state.dragStartPosition;if(void 0!==r)n({startPos:r,mouseXY:Ft(t,e.ref.current)},t)}},e.handleDragEnd=function(t){var n=Ft(t,e.ref.current);if(Ge(u(e.ref.current)).on(l,e.mouseInside?e.handleMouseMove:null).on(f,null),e.dragHappened){var r=e.props.onDragComplete;void 0!==r&&r({mouseXY:n},t)}e.setState({dragInProgress:!1}),e.mouseInteraction=!0},e.canPan=function(){var t=e.props.getAllPanConditions,n=e.props.pan,r=t().reduce((function(t,e){return{draggable:t.draggable||e.draggable,panEnabled:t.panEnabled&&e.panEnabled}}),{draggable:!1,panEnabled:n});return{panEnabled:r.panEnabled,somethingSelected:r.draggable}},e.handleMouseDown=function(t){if(0===t.button){var n=e.props,r=n.xScale,o=n.chartConfig,i=n.onMouseDown;if(e.panHappened=!1,e.dragHappened=!1,e.focus=!0,!e.state.panInProgress&&e.mouseInteraction){var a=x(t),c=mi(o,a),s=e.canPan(),h=s.panEnabled,p=s.somethingSelected,d=h&&!p;if(d)e.setState({panInProgress:d,panStart:{panStartXScale:r,panOrigin:a,chartsToPan:c}}),Ge(u(e.ref.current)).on(l,e.handlePan).on(f,e.handlePanEnd);else if(p){e.setState({panInProgress:!1,dragInProgress:!0,panStart:void 0,dragStartPosition:a});var y=e.props.onDragStart;void 0!==y&&y({startPos:a},t),Ge(u(e.ref.current)).on(l,e.handleDrag).on(f,e.handleDragEnd)}void 0!==i&&i(a,c,t)}t.preventDefault()}},e.shouldPan=function(){var t=e.props,n=t.pan,r=t.onPan;return n&&r&&void 0!==e.state.panStart},e.handlePan=function(t){if(e.shouldPan()&&void 0!==e.state.panStart){e.panHappened=!0;var n,r,o,i=e.state.panStart,a=i.panStartXScale,u=i.panOrigin,c=i.chartsToPan;e.mouseInteraction?(o=Ft(t,e.ref.current),e.lastNewPos=o,n=o[0]-u[0],r=o[1]-u[1]):(o=xi(t,e.ref.current)[0],e.lastNewPos=o,n=u[0]-o[0],r=u[1]-o[1]),e.dx=n,e.dy=r;var s=e.props.onPan;void 0!==s&&s(o,a,{dx:n,dy:r},c,t)}},e.handlePanEnd=function(t){var n=e.props,r=n.pan,o=n.onPanEnd;if(void 0!==e.state.panStart){var i=e.state.panStart,a=i.panStartXScale,c=i.chartsToPan;if(Ge(u(e.ref.current)).on(l,e.mouseInside?e.handleMouseMove:null).on(f,null).on(h,null).on(p,null),e.panHappened&&r&&o){var s=Pi(e),d=s.dx,y=void 0===d?0:d,v=s.dy,g=void 0===v?0:v;delete e.dx,delete e.dy,void 0!==e.lastNewPos&&o(e.lastNewPos,a,{dx:y,dy:g},c,t)}e.setState({panInProgress:!1,panStart:void 0})}},e.handleTouchMove=function(t){var n=e.props.onMouseMove;void 0!==n&&n(w(d(t.touches[0]),t),"touch",t)},e.handleTouchStart=function(t){e.mouseInteraction=!1;var n=e.props,r=n.pan,o=n.chartConfig,i=n.onMouseMove,a=n.xScale,c=n.onPanEnd;if(1===t.touches.length){e.panHappened=!1;var s=w(d(t.touches[0]),t);if(void 0!==i&&i(s,"touch",t),r){var y=mi(o,s);e.setState({panInProgress:!0,panStart:{panStartXScale:a,panOrigin:s,chartsToPan:y}}),Ge(u(e.ref.current)).on(h,e.handlePan,!1).on(p,e.handlePanEnd,!1)}}else if(2===t.touches.length){var v=e.state,g=v.panInProgress,m=v.panStart;if(g&&r&&c&&void 0!==m){var b=m.panStartXScale,x=Mi(m.panOrigin,2),_=x[0],P=x[1],S=m.chartsToPan;Ge(u(e.ref.current)).on(l,e.mouseInside?e.handleMouseMove:null).on(f,null).on(h,e.handlePinchZoom,!1).on(p,e.handlePinchZoomEnd,!1);var O=w(d(t.touches[0]),t),k=w(d(t.touches[1]),t);e.panHappened&&r&&c&&void 0!==e.lastNewPos&&c(e.lastNewPos,b,{dx:_,dy:P},S,t),e.setState({panInProgress:!1,pinchZoomStart:{xScale:a,touch1Pos:O,touch2Pos:k,range:a.range(),chartsToPan:S}})}}},e.handlePinchZoom=function(t){var n=e.state.pinchZoomStart;if(void 0!==n){var r=e.props,o=r.xScale,i=r.zoom,a=r.onPinchZoom;if(i&&void 0!==a){var u=Mi(xi(e.ref.current),2),c=u[0],s=u[1];n.chartsToPan;a(Di(n,["chartsToPan"]),{touch1Pos:c,touch2Pos:s,xScale:o},t)}}},e.handlePinchZoomEnd=function(t){Ge(u(e.ref.current)).on(h,null).on(p,null);var n=e.state.pinchZoomStart;if(void 0!==n){n.chartsToPan;var r=Di(n,["chartsToPan"]),o=e.props,i=o.zoom,a=o.onPinchZoomEnd;i&&a&&a(r,t),e.setState({pinchZoomStart:void 0})}},e.setCursorClass=function(t){t!==e.state.cursorOverrideClass&&e.setState({cursorOverrideClass:t})},e.focus=t.focus,e.state={panInProgress:!1},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this.props.disableInteraction,e=this.ref.current;null!==e&&(t||(Ge(e).on(c,this.handleEnter).on(s,this.handleLeave),e.addEventListener("wheel",this.handleWheel,{passive:!1})))}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"componentWillUnmount",value:function(){var t=this.props.disableInteraction,e=this.ref.current;null!==e&&(t||(Ge(e).on(c,null).on(s,null),Ge(u(e)).on(l,null),e.removeEventListener("wheel",this.handleWheel,{passive:!1})))}},{key:"queuePanEnd",value:function(t){var e=this;void 0!==this.panEndTimeout&&window.clearTimeout(this.panEndTimeout),this.panEndTimeout=window.setTimeout((function(){e.handlePanEnd(t)}),100)}},{key:"cancelDrag",value:function(){Ge(u(this.ref.current)).on(l,this.mouseInside?this.handleMouseMove:null).on(f,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"render",value:function(){var t=this.props,e=t.height,n=t.width,o=t.disableInteraction,i=t.useCrossHairStyleCursor,a=o?void 0:void 0!==this.state.cursorOverrideClass?this.state.cursorOverrideClass:i?this.state.panInProgress?"react-financial-charts-grabbing-cursor":"react-financial-charts-crosshair-cursor":void 0,u=o||{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return r.createElement("rect",Object.assign({ref:this.ref,className:a,width:n,height:e,style:{opacity:0}},u))}}])&&Si(e.prototype,n),o&&Si(e,o),a}(r.Component);function Ti(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ni(t,e){return!e||"object"!==Fi(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zi(t,e){return(zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}ji.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,disableInteraction:!1};var Fi=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Wi(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ii(t);if(e){var o=Ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}var Li=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zi(t,e)}(a,t);var e,n,o,i=Wi(a);function a(){var t;return Ti(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).bgRef=r.createRef(),t.axesRef=r.createRef(),t.mouseRef=r.createRef(),t}return e=a,(n=[{key:"getCanvasContexts",value:function(){var t,e,n,r,o,i;return{bg:null!==(e=null===(t=this.bgRef.current)||void 0===t?void 0:t.getContext("2d"))&&void 0!==e?e:void 0,axes:null!==(r=null===(n=this.axesRef.current)||void 0===n?void 0:n.getContext("2d"))&&void 0!==r?r:void 0,mouseCoord:null!==(i=null===(o=this.mouseRef.current)||void 0===o?void 0:o.getContext("2d"))&&void 0!==i?i:void 0}}},{key:"render",value:function(){var t=this.props,e=t.height,n=t.ratio,o=t.style,i=t.width,a=i*n,u=e*n,c={position:"absolute",width:i,height:e};return r.createElement("div",{style:Object.assign(Object.assign({},o),{position:"absolute"})},r.createElement("canvas",{ref:this.bgRef,width:a,height:u,style:c}),r.createElement("canvas",{ref:this.axesRef,width:a,height:u,style:c}),r.createElement("canvas",{ref:this.mouseRef,width:a,height:u,style:c}))}}])&&Ri(e.prototype,n),o&&Ri(e,o),a}(r.PureComponent);function Xi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Xi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(t,e,n,r){var o=t.lastItem,i=t.lastItemX,a=e(o),u=Bi(n.range(),2),c=u[0];return(u[1]-c)/(i.valueOf()-c)*(a.valueOf()-r.valueOf())+r.valueOf()}function Hi(t,e,n,r){var o=function(t,e){return Math.max(1,Math.ceil(t*e))}(t,r),i=Yi(t,n);return e>=o&&e<i}function Yi(t,e){return Math.floor(t*e)}function Zi(t,e){return Math.floor(.97*Yi(t,e))}function Ui(t,e,n,r){var o=ci(t,e,r).left,i=ci(t,n,r).right;return t.slice(o,i+1)}function $i(t){var e=t.xScale,n=t.useWholeData,r=t.clamp,o=t.pointsPerPxThreshold,i=t.minPointsPerPxThreshold,a=t.flipXScale;return function(t,e,n,r,o){return{filterData:function(i,a,u,c){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=s.currentPlotData,f=s.currentDomain,h=s.fallbackStart,p=s.fallbackEnd,d=s.ignoreThresholds,v=void 0!==d&&d;if(t)return{plotData:i,domain:a};var b=y(a),w=g(a),x=a,_=Ui(i,b,w,u);1===_.length&&void 0!==h&&(x=[b=h,w=qi(p,u,c,b)],_=Ui(i,b,w,u)),"function"===typeof e?x=e(x,[u(y(i)),u(g(i))]):("left"!==e&&"both"!==e&&!0!==e||(x=[ur([b,u(y(i))]),x[1]]),"right"!==e&&"both"!==e&&!0!==e||(x=[x[0],V([w,u(g(i))])])),x!==a&&(_=Ui(i,x[0],x[1],u));var P,S,O=x,k=c.copy().domain(O),C=Math.floor(k(u(g(_)))-k(u(y(_))));o&&C<0&&(C*=-1);var M=g(k.range())-y(k.range());if(v&&_.length>1||Hi(C,_.length,n,r))P=_,S=O;else if(M>Yi(C,n)&&m(p)){P=_;var A=qi(p,u,c,y(O));S=[y(O),A]}else P=null!==l&&void 0!==l?l:_.slice(_.length-Zi(C,n)),S=null!==f&&void 0!==f?f:[u(y(P)),u(g(P))];return{plotData:P,domain:S}}}}(n||b(e.invert),r,o,i,a)}function Vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ji(t){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qi(t,e){return!e||"object"!==na(e)&&"function"!==typeof e?Gi(t):e}function ta(t,e){return(ta=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ea(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Vi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vi(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var na=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function ra(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ji(t);if(e){var o=Ji(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qi(this,n)}}var oa=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},ia=["seriesName"],aa=function(t){var e=t.margin,n=t.height,r=t.width;return{height:n-e.top-e.bottom,width:r-e.left-e.right}},ua=function(t){return t?-1:1},ca=function(t){var e=t.data,n=t.plotFull,r=t.xScale,o=t.clamp,i=t.pointsPerPxThreshold,a=t.flipXScale,u=t.xAccessor,c=t.displayXAccessor,s=t.minPointsPerPxThreshold,l=$i({xScale:r,useWholeData:void 0!==n?n:u===P,clamp:o,pointsPerPxThreshold:i,minPointsPerPxThreshold:s,flipXScale:a}).filterData;return{xAccessor:u,displayXAccessor:null!==c&&void 0!==c?c:u,xScale:r.copy(),fullData:e,filterData:l}},sa=function(t){var e=la(t),n=e.xAccessor,r=e.displayXAccessor,o=e.fullData,i=e.plotData,a=e.xScale,u=t.postCalculator,c=t.children,s=void 0!==u?u(i):i,l=bi(gi(aa(t),c),{plotData:s,xAccessor:n,displayXAccessor:r,fullData:o},a.domain());return Object.assign(Object.assign({},e),{xScale:a,plotData:s,chartConfig:l})},la=function(t){var e=t.xAccessor,n=t.xExtents,r=t.data,o=t.padding,i=t.flipXScale,u=ua(i),c=aa(t),s="function"===typeof n?n(r):ar(n.map((function(t){return a(t)})).map((function(t){return t(r,e)}))),l=ca(t),f=l.xAccessor,h=l.displayXAccessor,p=l.xScale,d=l.fullData,y=l.filterData,v=fa(p,c,o,u),g=y(d,s,e,v),m=g.plotData,b=g.domain;return{plotData:m,xScale:v.domain(b),xAccessor:f,displayXAccessor:h,fullData:d,filterData:y}},fa=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(t.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.rangeRoundPoints([0,e.width],n)}else if(t.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");t.range([0,e.width]),t.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},i=o.left,a=o.right;r>0?t.range([i,e.width-a]):t.range([e.width-a,i])}return t},ha=function(t){var e=t.touch1Pos,n=t.touch2Pos;return{topLeft:[Math.min(e[0],n[0]),Math.min(e[1],n[1])],bottomRight:[Math.max(e[0],n[0]),Math.max(e[1],n[1])]}},pa=function(t,e,n){return!isNaN(t(e(y(n))))&&m(t.invert)},da=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ta(t,e)}(u,t);var e,n,o,i=ra(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).canvasContainerRef=r.createRef(),e.eventCaptureRef=r.createRef(),e.lastSubscriptionId=0,e.mutableState={},e.panInProgress=!1,e.subscriptions=[],e.getMutableState=function(){return e.mutableState},e.getDataInfo=function(){return Object.assign(Object.assign({},e.state),{fullData:e.fullData})},e.getCanvasContexts=function(){var t;return null===(t=e.canvasContainerRef.current)||void 0===t?void 0:t.getCanvasContexts()},e.generateSubscriptionId=function(){return e.lastSubscriptionId++,e.lastSubscriptionId},e.subscribe=function(t,n){var r=n.getPanConditions,o=void 0===r?a({draggable:!1,panEnabled:!0}):r;e.subscriptions=e.subscriptions.concat(Object.assign(Object.assign({id:t},n),{getPanConditions:o}))},e.unsubscribe=function(t){e.subscriptions=e.subscriptions.filter((function(e){return e.id!==t}))},e.getAllPanConditions=function(){return e.subscriptions.map((function(t){return t.getPanConditions()}))},e.setCursorClass=function(t){var n;null===(n=e.eventCaptureRef.current)||void 0===n||n.setCursorClass(t)},e.amIOnTop=function(t){var n=e.subscriptions.filter((function(t){return t.getPanConditions().draggable}));return n.length>0&&g(n).id===t},e.handleContextMenu=function(t,n){var r=e.state,o=r.xAccessor,i=r.chartConfig,a=r.plotData,u=r.xScale,c=mi(i,t),s=wi(u,o,t,a);e.triggerEvent("contextmenu",{mouseXY:t,currentItem:s,currentCharts:c},n)},e.calculateStateForDomain=function(t){var n=e.state,r=n.xAccessor,o=n.displayXAccessor,i=n.xScale,a=n.chartConfig,c=n.plotData,s=e.state.filterData,l=Gi(e).fullData,f=e.props.postCalculator,h=void 0===f?u.defaultProps.postCalculator:f,p=s(l,t,r,i,{currentPlotData:c,currentDomain:i.domain()}),d=p.plotData,y=p.domain,v=h(d),g=i.copy().domain(y),m=bi(a,{plotData:v,xAccessor:r,displayXAccessor:o,fullData:l},g.domain());return{xScale:g,plotData:v,chartConfig:m}},e.pinchZoomHelper=function(t,n){var r=t.xScale,o=e.state,i=o.xScale,a=o.chartConfig,c=o.plotData,s=o.xAccessor,l=o.displayXAccessor,f=o.filterData,h=Gi(e).fullData,p=e.props.postCalculator,d=void 0===p?u.defaultProps.postCalculator:p,y=ha(t),v=y.topLeft,g=y.bottomRight,m=ha(n),b=m.topLeft,w=m.bottomRight,x=r.range()[1],_=Math.round(-(g[0]*b[0]-v[0]*w[0])/(v[0]-g[0])),P=Math.round(x+((x-g[0])*(x-b[0])-(x-v[0])*(x-w[0]))/(x-v[0]-(x-g[0]))),S=f(h,[Math.round(-_*v[0]/(-_+b[0])),Math.round(x-(P-x)*(x-v[0])/(P+(x-b[0])))].map(r.invert),s,r,{currentPlotData:c,currentDomain:i.domain()}),O=S.plotData,k=S.domain,C=d(O),M=i.copy().domain(k),A=n.touch1Pos;return{chartConfig:bi(a,{plotData:C,xAccessor:s,displayXAccessor:l,fullData:h},M.domain()),xScale:M,plotData:C,mouseXY:A,currentItem:wi(M,s,A,C)}},e.handlePinchZoom=function(t,n,r){if(!e.waitingForPinchZoomAnimationFrame){e.waitingForPinchZoomAnimationFrame=!0;var o=e.pinchZoomHelper(t,n);e.triggerEvent("pinchzoom",o,r),e.finalPinch=n,requestAnimationFrame((function(){e.clearBothCanvas(),e.draw({trigger:"pinchzoom"}),e.waitingForPinchZoomAnimationFrame=!1}))}},e.handlePinchZoomEnd=function(t,n){var r=e.state.xAccessor,o=void 0===r?u.defaultProps.xAccessor:r;if(e.finalPinch){var i=e.pinchZoomHelper(t,e.finalPinch),a=i.xScale;e.triggerEvent("pinchzoom",i,n),e.finalPinch=void 0,e.clearThreeCanvas();var c=Gi(e).fullData,s=y(c),l=y(a.domain()),f=o(s),h=g(c),p=g(a.domain()),d=o(h),v=e.props,m=v.onLoadAfter,b=v.onLoadBefore;e.setState(i,(function(){l<f&&void 0!==b&&b(l,f),d<p&&void 0!==m&&m(d,p)}))}},e.handleZoom=function(t,n,r){if(!e.panInProgress){var o=e.state,i=o.xAccessor,a=o.xScale,c=o.plotData,s=e.props,l=s.zoomMultiplier,f=void 0===l?u.defaultProps.zoomMultiplier:l,h=s.zoomAnchor,p=void 0===h?u.defaultProps.zoomAnchor:h,d=Gi(e).fullData,v=p({xScale:a,xAccessor:i,mouseXY:n,plotData:c}),m=a(v),b=t>0?1*f:1/f,w=a.range().map((function(t){return m+(t-m)*b})).map((function(t){return a.invert(t)})),x=e.calculateStateForDomain(w),_=x.xScale,P=x.plotData,S=x.chartConfig,O=wi(_,i,n,P),k=mi(S,n);e.clearThreeCanvas();var C=y(d),M=y(_.domain()),A=i(C),E=g(d),D=g(_.domain()),j=i(E);e.mutableState={mouseXY:n,currentItem:O,currentCharts:k},e.triggerEvent("zoom",{xScale:_,plotData:P,chartConfig:S,mouseXY:n,currentCharts:k,currentItem:O,show:!0},r);var T=e.props,R=T.onLoadAfter,I=T.onLoadBefore;e.setState({xScale:_,plotData:P,chartConfig:S},(function(){M<A&&void 0!==I&&I(M,A),j<D&&void 0!==R&&R(j,D)}))}},e.xAxisZoom=function(t){var n=e.calculateStateForDomain(t),r=n.xScale,o=n.plotData,i=n.chartConfig;e.clearThreeCanvas();var a=e.state.xAccessor,u=Gi(e).fullData,c=y(u),s=y(r.domain()),l=a(c),f=g(u),h=g(r.domain()),p=a(f),d=e.props,v=d.onLoadAfter,m=d.onLoadBefore;e.setState({xScale:r,plotData:o,chartConfig:i},(function(){s<l&&void 0!==m&&m(s,l),p<h&&void 0!==v&&v(p,h)}))},e.yAxisZoom=function(t,n){e.clearThreeCanvas();var r=e.state.chartConfig.map((function(e){if(e.id===t){var r=e.yScale;return Object.assign(Object.assign({},e),{yScale:r.copy().domain(n),yPanEnabled:!0})}return e}));e.setState({chartConfig:r})},e.draw=function(t){e.subscriptions.forEach((function(e){m(e.draw)&&e.draw(t)}))},e.redraw=function(){e.clearThreeCanvas(),e.draw({force:!0})},e.panHelper=function(t,n,r,o){var i=r.dx,a=r.dy,c=e.state,s=c.xAccessor,l=c.displayXAccessor,f=c.chartConfig,h=c.filterData,p=Gi(e).fullData,d=e.props.postCalculator,y=void 0===d?u.defaultProps.postCalculator:d,v=h(p,n.range().map((function(t){return t-i})).map((function(t){return n.invert(t)})),s,n,{currentPlotData:e.hackyWayToStopPanBeyondBounds__plotData,currentDomain:e.hackyWayToStopPanBeyondBounds__domain,ignoreThresholds:!0}),g=v.plotData,m=v.domain,b=n.copy().domain(m),w=y(g),x=wi(b,s,t,w),_=bi(f,{plotData:w,xAccessor:s,displayXAccessor:l,fullData:p},b.domain(),a,o);return{xScale:b,plotData:w,chartConfig:_,mouseXY:t,currentCharts:mi(_,t),currentItem:x}},e.handlePan=function(t,n,r,o,i){var a,u;if(!e.waitingForPanAnimationFrame){e.waitingForPanAnimationFrame=!0,e.hackyWayToStopPanBeyondBounds__plotData=null!==(a=e.hackyWayToStopPanBeyondBounds__plotData)&&void 0!==a?a:e.state.plotData,e.hackyWayToStopPanBeyondBounds__domain=null!==(u=e.hackyWayToStopPanBeyondBounds__domain)&&void 0!==u?u:e.state.xScale.domain();var c=e.panHelper(t,n,r,o);e.hackyWayToStopPanBeyondBounds__plotData=c.plotData,e.hackyWayToStopPanBeyondBounds__domain=c.xScale.domain(),e.panInProgress=!0,e.triggerEvent("pan",c,i),e.mutableState={mouseXY:c.mouseXY,currentItem:c.currentItem,currentCharts:c.currentCharts},requestAnimationFrame((function(){e.waitingForPanAnimationFrame=!1,e.clearBothCanvas(),e.draw({trigger:"pan"})}))}},e.handlePanEnd=function(t,n,r,o,i){var a=e.panHelper(t,n,r,o);e.hackyWayToStopPanBeyondBounds__plotData=null,e.hackyWayToStopPanBeyondBounds__domain=null,e.panInProgress=!1;var u=a.xScale,c=a.plotData,s=a.chartConfig;e.triggerEvent("panend",a,i),requestAnimationFrame((function(){var t=e.state.xAccessor,n=Gi(e).fullData,r=y(n),o=y(u.domain()),i=t(r),a=g(n),l=g(u.domain()),f=t(a),h=e.props,p=h.onLoadAfter,d=h.onLoadBefore;e.clearThreeCanvas(),e.setState({xScale:u,plotData:c,chartConfig:s},(function(){o<i&&void 0!==d&&d(o,i),f<l&&void 0!==p&&p(f,l)}))}))},e.handleMouseDown=function(t,n,r){e.triggerEvent("mousedown",e.mutableState,r)},e.handleMouseEnter=function(t){e.triggerEvent("mouseenter",{show:!0},t)},e.handleMouseMove=function(t,n,r){if(!e.waitingForMouseMoveAnimationFrame){e.waitingForMouseMoveAnimationFrame=!0;var o=e.state,i=o.chartConfig,a=o.plotData,u=o.xScale,c=o.xAccessor,s=mi(i,t),l=wi(u,c,t,a);e.triggerEvent("mousemove",{show:!0,mouseXY:t,prevMouseXY:e.prevMouseXY,currentItem:l,currentCharts:s},r),e.prevMouseXY=t,e.mutableState={mouseXY:t,currentItem:l,currentCharts:s},requestAnimationFrame((function(){e.clearMouseCanvas(),e.draw({trigger:"mousemove"}),e.waitingForMouseMoveAnimationFrame=!1}))}},e.handleMouseLeave=function(t){e.triggerEvent("mouseleave",{show:!1},t),e.clearMouseCanvas(),e.draw({trigger:"mouseleave"})},e.handleDragStart=function(t,n){var r=t.startPos;e.triggerEvent("dragstart",{startPos:r},n)},e.handleDrag=function(t,n){var r=t.startPos,o=t.mouseXY,i=e.state,a=i.chartConfig,u=i.plotData,c=i.xScale,s=i.xAccessor,l=mi(a,o),f=wi(c,s,o,u);e.triggerEvent("drag",{startPos:r,mouseXY:o,currentItem:f,currentCharts:l},n),e.mutableState={mouseXY:o,currentItem:f,currentCharts:l},requestAnimationFrame((function(){e.clearMouseCanvas(),e.draw({trigger:"drag"})}))},e.handleDragEnd=function(t,n){var r=t.mouseXY;e.triggerEvent("dragend",{mouseXY:r},n),requestAnimationFrame((function(){e.clearMouseCanvas(),e.draw({trigger:"dragend"})}))},e.handleClick=function(t,n){e.triggerEvent("click",e.mutableState,n),requestAnimationFrame((function(){e.clearMouseCanvas(),e.draw({trigger:"click"})}))},e.handleDoubleClick=function(t,n){e.triggerEvent("dblclick",{},n)},e.resetYDomain=function(t){var n=e.state.chartConfig,r=!1,o=n.map((function(e){return!b(t)&&e.id!==t||sr(e.yScale.domain(),e.realYDomain)?e:(r=!0,Object.assign(Object.assign({},e),{yScale:e.yScale.domain(e.realYDomain),yPanEnabled:!1}))}));r&&(e.clearThreeCanvas(),e.setState({chartConfig:o}))};var n=sa(t),o=n.fullData,c=oa(n,["fullData"]);return e.state=c,e.fullData=o,e}return e=u,(n=[{key:"clearBothCanvas",value:function(){var t=this.getCanvasContexts();t&&t.axes&&t.mouseCoord&&_([t.axes,t.mouseCoord],this.props.ratio)}},{key:"clearMouseCanvas",value:function(){var t=this.getCanvasContexts();t&&t.mouseCoord&&_([t.mouseCoord],this.props.ratio)}},{key:"clearThreeCanvas",value:function(){var t=this.getCanvasContexts();t&&t.axes&&t.mouseCoord&&t.bg&&_([t.axes,t.mouseCoord,t.bg],this.props.ratio)}},{key:"cancelDrag",value:function(){var t;null===(t=this.eventCaptureRef.current)||void 0===t||t.cancelDrag(),this.triggerEvent("dragcancel")}},{key:"triggerEvent",value:function(t,e,n){var r=this;this.subscriptions.forEach((function(o){var i=Object.assign(Object.assign({},r.state),{fullData:r.fullData,subscriptions:r.subscriptions});o.listener(t,e,i,n)}))}},{key:"getChildContext",value:function(){var t=aa(this.props);return{fullData:this.fullData,plotData:this.state.plotData,width:t.width,height:t.height,chartConfig:this.state.chartConfig,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e,n=function(t,e){return!ia.every((function(n){return sr(t[n],e[n])}))}(this.props,t),r=this.state,o=r.chartConfig,i=r.plotData,a=r.xAccessor,u=r.xScale;if(pa(u,a,i)&&!n&&sr(this.props.xExtents,t.xExtents)){var c=ea(u.domain(),2),s=c[0],l=c[1],f=g(this.fullData),h=ca(t),p=(0,h.xAccessor)(f);e=function(t,e,n,r,o){var i,a=t.fullData,u=t.xScale,c=t.xAccessor,s=t.displayXAccessor,l=t.filterData,f=g(a),h=c(f),p=ea(e.domain(),2),d=p[0],y=p[1],v=n.postCalculator,m=n.children,b=n.padding,w=n.flipXScale,x=n.maintainPointsPerPixelOnResize,_=ua(w),P=aa(n),S=fa(u,P,b,_);if(!r||y>=h){var O=ea(e.range(),2),k=O[0],C=O[1],M=ea(S.range(),2),A=M[0],E=(M[1]-A)/(C-k)*(y.valueOf()-d.valueOf()),D=l(a,[x?y.valueOf()-E:d,y],c,S,{fallbackStart:d,fallbackEnd:{lastItem:f,lastItemX:e(h)}});i=D.plotData,S.domain(D.domain)}else if(r&&y<h){var j=e(h)-e.range()[1],T=ea(e.range().map((function(t){return t+j})).map((function(t){return e.invert(t)})),2),R=l(a,[T[0],T[1]],c,S);i=R.plotData,S.domain(R.domain)}var I=v(i),N=bi(gi(P,m,o),{plotData:I,xAccessor:c,displayXAccessor:s,fullData:a},S.domain());return{xScale:S,xAccessor:c,chartConfig:N,plotData:I,fullData:a,filterData:l}}(h,u,t,p<=l&&p>=s,o)}else e=sa(t),this.mutableState={};var d=e.fullData,y=oa(e,["fullData"]);this.panInProgress||(this.clearThreeCanvas(),this.setState(y)),this.fullData=d}},{key:"shouldComponentUpdate",value:function(){return!this.panInProgress}},{key:"render",value:function(){var t=this.props,e=t.disableInteraction,n=t.disablePan,o=t.disableZoom,i=t.useCrossHairStyleCursor,a=t.onClick,c=t.onDoubleClick,s=t.height,l=t.width,f=t.margin,h=void 0===f?u.defaultProps.margin:f,p=t.className,d=t.zIndex,y=void 0===d?u.defaultProps.zIndex:d,v=t.defaultFocus,g=t.ratio,m=t.mouseMoveEvent,b=this.state,w=b.plotData,x=b.xScale,_=b.xAccessor,P=b.chartConfig,S=aa(this.props),O=pa(x,_,w),k=i&&O,C=r.createElement("style",{type:"text/css"},"\n\t.react-financial-charts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-financial-charts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-financial-charts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-financial-charts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-financial-charts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-financial-charts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-financial-charts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-financial-charts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}");return r.createElement("div",{style:{position:"relative",width:l,height:s},className:p,onClick:a,onDoubleClick:c},r.createElement(Li,{ref:this.canvasContainerRef,ratio:g,width:l,height:s,style:{height:s,zIndex:y,width:l}}),r.createElement("svg",{className:p,width:l,height:s,style:{position:"absolute",zIndex:y+5}},C,r.createElement("defs",null,r.createElement("clipPath",{id:"chart-area-clip"},r.createElement("rect",{x:"0",y:"0",width:S.width,height:S.height})),P.map((function(t,e){return r.createElement("clipPath",{key:e,id:"chart-area-clip-".concat(t.id)},r.createElement("rect",{x:"0",y:"0",width:t.width,height:t.height}))}))),r.createElement("g",{transform:"translate(".concat(h.left+.5,", ").concat(h.top+.5,")")},r.createElement(ji,{ref:this.eventCaptureRef,useCrossHairStyleCursor:k,mouseMove:m&&O,zoom:!o&&O,pan:!n&&O,width:S.width,height:S.height,chartConfig:P,xScale:x,xAccessor:_,focus:v,disableInteraction:e,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),r.createElement("g",{className:"react-financial-charts-avoid-interaction"},this.props.children))))}}])&&Ki(e.prototype,n),o&&Ki(e,o),u}(r.Component);da.defaultProps={clamp:!1,className:"react-financial-charts",defaultFocus:!0,disablePan:!1,disableInteraction:!1,disableZoom:!1,flipXScale:!1,maintainPointsPerPixelOnResize:!0,margin:{top:0,right:40,bottom:40,left:0},minPointsPerPxThreshold:.01,mouseMoveEvent:!0,postCalculator:P,padding:0,pointsPerPxThreshold:2,useCrossHairStyleCursor:!0,xAccessor:P,xExtents:[V,ur],zIndex:1,zoomAnchor:function(t){var e=t.xScale,n=t.xAccessor;return n(wi(e,n,t.mouseXY,t.plotData))},zoomMultiplier:1.1},da.childContextTypes={plotData:o.array,fullData:o.array,chartConfig:o.arrayOf(o.shape({id:o.oneOfType([o.number,o.string]).isRequired,origin:o.arrayOf(o.number).isRequired,padding:o.oneOfType([o.number,o.shape({top:o.number,bottom:o.number})]),yExtents:o.arrayOf(o.func),yExtentsProvider:o.func,yScale:o.func.isRequired,mouseCoordinates:o.shape({at:o.string,format:o.func}),width:o.number.isRequired,height:o.number.isRequired})).isRequired,xScale:o.func.isRequired,xAccessor:o.func.isRequired,displayXAccessor:o.func.isRequired,width:o.number.isRequired,height:o.number.isRequired,margin:o.object.isRequired,ratio:o.number.isRequired,getCanvasContexts:o.func,xAxisZoom:o.func,yAxisZoom:o.func,amIOnTop:o.func,redraw:o.func,subscribe:o.func,unsubscribe:o.func,setCursorClass:o.func,generateSubscriptionId:o.func,getMutableState:o.func};const ya=Math.PI,va=2*ya,ga=1e-6,ma=va-ga;function ba(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wa(){return new ba}ba.prototype=wa.prototype={constructor:ba,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,u=n-t,c=r-e,s=i-t,l=a-e,f=s*s+l*l;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>ga)if(Math.abs(l*u-c*s)>ga&&o){var h=n-i,p=r-a,d=u*u+c*c,y=h*h+p*p,v=Math.sqrt(d),g=Math.sqrt(f),m=o*Math.tan((ya-Math.acos((d+f-y)/(2*v*g)))/2),b=m/g,w=m/v;Math.abs(b-1)>ga&&(this._+="L"+(t+b*s)+","+(e+b*l)),this._+="A"+o+","+o+",0,0,"+ +(l*h>s*p)+","+(this._x1=t+w*u)+","+(this._y1=e+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,o,i){t=+t,e=+e,i=!!i;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),c=t+a,s=e+u,l=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>ga||Math.abs(this._y1-s)>ga)&&(this._+="L"+c+","+s),n&&(f<0&&(f=f%va+va),f>ma?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):f>ga&&(this._+="A"+n+","+n+",0,"+ +(f>=ya)+","+l+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var xa=wa;Array.prototype.slice;function _a(t){return function(){return t}}function Pa(t){this._context=t}function Sa(t){return new Pa(t)}function Oa(t){return t[0]}function ka(t){return t[1]}function Ca(t,e){var n=_a(!0),r=null,o=Sa,i=null;function a(a){var u,c,s,l=(a=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}(a)).length,f=!1;for(null==r&&(i=o(s=xa())),u=0;u<=l;++u)!(u<l&&n(c=a[u],u,a))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(c,u,a),+e(c,u,a));if(s)return i=null,s+""||null}return t="function"===typeof t?t:void 0===t?Oa:_a(t),e="function"===typeof e?e:void 0===e?ka:_a(e),a.x=function(e){return arguments.length?(t="function"===typeof e?e:_a(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:_a(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:_a(!!t),a):n},a.curve=function(t){return arguments.length?(o=t,null!=r&&(i=o(r)),a):o},a.context=function(t){return arguments.length?(null==t?r=i=null:i=o(r=t),a):r},a}function Ma(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Da(t){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ja(t,e){return!e||"object"!==Ia(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ta(t,e){return(Ta=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ra(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Ma(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Ia=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Na(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Da(t);if(e){var o=Da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ja(this,n)}}var za=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ta(t,e)}(a,t);var e,n,o,i=Na(a);function a(){var t;return Aa(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).drawOnCanvas=function(e){return function(n,r){var o=t.props,i=o.connectNulls,u=o.yAccessor,c=o.hoverStrokeWidth,s=void 0===c?a.defaultProps.hoverStrokeWidth:c,l=o.defined,f=void 0===l?a.defaultProps.defined:l,h=o.curve,p=o.canvasClip,d=o.strokeStyle,y=o.strokeWidth,v=void 0===y?a.defaultProps.strokeWidth:y,g=r.xAccessor,m=r.xScale,b=r.chartConfig.yScale,w=r.plotData,x=r.hovering;void 0!==p&&(n.save(),p(n,r)),n.lineWidth=x?s:v,void 0!==d&&(n.strokeStyle=d),void 0!==e&&n.setLineDash(e);var _=Ca().x((function(t){return Math.round(m(g(t)))})).y((function(t){return Math.round(b(u(t)))}));void 0!==h&&_.curve(h),i||_.defined((function(t){return f(u(t))})),n.beginPath(),_.context(n)(w),n.stroke(),void 0!==p&&n.restore()}},t.isHover=function(e){var n=t.props,r=n.highlightOnHover,o=n.yAccessor,i=n.hoverTolerance,u=void 0===i?a.defaultProps.hoverTolerance:i;if(!r)return!1;var c=e.chartConfig,s=c.yScale,l=c.origin,f=e.xAccessor,h=e.mouseXY,p=e.currentItem,d=e.xScale,y=e.plotData,v=Ra(h,2),g=v[0],m=v[1],b=u,w=ci(y,d.invert(g),f),x=w.left,_=w.right;if(x===_){var P=s(o(p))+l[1],S=d(f(p))+l[0];return Math.pow(g-S,2)+Math.pow(m-P,2)<Math.pow(b,2)}var O=y[x],k=y[_],C=d(f(O))+l[0],M=s(o(O))+l[1],A=d(f(k))+l[0],E=(s(o(k))+l[1]-M)/(A-C),D=-1*E*C+M,j=Math.round(E*g+D);return m>=j-b&&m<=j+b},t}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.highlightOnHover,n=t.onClick,o=t.onContextMenu,i=t.onDoubleClick,a=t.onHover,u=t.onUnHover,c=t.strokeDasharray,s=e||a||u?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:R}:{drawOn:["pan"],canvasToDraw:T},l=U(c);return r.createElement(Z,Object.assign({canvasDraw:this.drawOnCanvas(l),onClickWhenHover:n,onDoubleClickWhenHover:i,onContextMenuWhenHover:o,onHover:a,onUnHover:u},s))}}])&&Ea(e.prototype,n),o&&Ea(e,o),a}(r.Component);za.defaultProps={connectNulls:!1,defined:function(t){return void 0!==t&&!isNaN(t)},hoverStrokeWidth:4,hoverTolerance:6,highlightOnHover:!1,strokeDasharray:"Solid",strokeStyle:"#2196f3",strokeWidth:1};function Fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function La(t){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xa(t,e){return!e||"object"!==qa(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ba(t,e){return(Ba=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qa=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Ha(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=La(t);if(e){var o=La(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xa(this,n)}}var Ya=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},Za=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ba(t,e)}(a,t);var e,n,o,i=Ha(a);function a(){return Fa(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.children,n=Ya(t,["children"]);return r.createElement("text",Object.assign({},n),e)}}])&&Wa(e.prototype,n),o&&Wa(e,o),a}(r.PureComponent);function Ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Va(t){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ga(t,e){return!e||"object"!==Ja(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ka(t,e){return(Ka=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Za.defaultProps={className:"react-financial-charts-tooltip",fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:11};var Ja=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Qa(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Va(t);if(e){var o=Va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ga(this,n)}}var tu=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},eu=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ka(t,e)}(a,t);var e,n,o,i=Qa(a);function a(){return Ua(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var t=this.props,e=t.children,n=tu(t,["children"]);return r.createElement("tspan",Object.assign({},n),e)}}])&&$a(e.prototype,n),o&&$a(e,o),a}(r.PureComponent);function nu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ou(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iu(t){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function au(t,e){return!e||"object"!==su(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uu(t,e){return(uu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return nu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}eu.defaultProps={className:"react-financial-charts-tooltip-label",fill:"#4682B4"};var su=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function lu(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iu(t);if(e){var o=iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return au(this,n)}}var fu=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uu(t,e)}(u,t);var e,n,o,i=lu(u);function u(){var t;return ru(this,u),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).renderSVG=function(e){var n,o=t.props,i=o.onClick,c=o.fontFamily,s=o.fontSize,l=o.fontWeight,f=o.labelFill,h=o.labelFontWeight,p=o.valueFill,d=o.className,y=o.displayValuesFor,v=void 0===y?u.defaultProps.displayValuesFor:y,m=o.origin,b=o.xDisplayFormat,w=void 0===b?u.defaultProps.xDisplayFormat:b,x=o.yDisplayFormat,_=void 0===x?u.defaultProps.yDisplayFormat:x,P=o.xLabel,S=o.yLabel,O=o.xAccessor,k=void 0===O?u.defaultProps.xAccessor:O,C=o.yAccessor,M=void 0===C?u.defaultProps.yAccessor:C,A=o.xInitDisplay,E=o.yInitDisplay,D=e.chartConfig,j=D.width,T=D.height,R=e.fullData,I=null!==(n=v(t.props,e))&&void 0!==n?n:g(R),N=A,z=E;if(void 0!==I){var F=k(I);void 0!==F&&(N=w(F));var W=M(I);void 0!==W&&(z=_(W))}var L=cu(a(m)(j,T),2),X=L[0],B=L[1];return r.createElement("g",{className:d,transform:"translate(".concat(X,", ").concat(B,")"),onClick:i},r.createElement(Za,{x:0,y:0,fontFamily:c,fontSize:s,fontWeight:l},P?r.createElement(eu,{x:0,dy:"5",fill:f},"".concat(P,": ")):null,P?r.createElement("tspan",{fill:p},"".concat(N," ")):null,r.createElement(eu,{fill:f,fontWeight:h},"".concat(S," ")),r.createElement("tspan",{fill:p},z)))},t}return e=u,(n=[{key:"render",value:function(){return r.createElement(Z,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}])&&ou(e.prototype,n),o&&ou(e,o),u}(r.Component);fu.defaultProps={className:"react-financial-charts-tooltip",displayValuesFor:function(t,e){return e.currentItem},labelFill:"#4682B4",origin:[0,0],valueFill:"#000000",xAccessor:function(){},xDisplayFormat:P,xInitDisplay:"n/a",yAccessor:P,yDisplayFormat:No(".2f"),yInitDisplay:"n/a"};var hu=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},pu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),du=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},vu=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},gu=void 0;gu="undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g;var mu=null,bu=null,wu=gu.clearTimeout,xu=gu.setTimeout,_u=gu.cancelAnimationFrame||gu.mozCancelAnimationFrame||gu.webkitCancelAnimationFrame,Pu=gu.requestAnimationFrame||gu.mozRequestAnimationFrame||gu.webkitRequestAnimationFrame;function Su(t){var e=void 0,n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,u=void 0,c="undefined"!==typeof document&&document.attachEvent;if(!c){a=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},i=function(t){return t.offsetWidth!==t.__resizeLast__.width||t.offsetHeight!==t.__resizeLast__.height},u=function(t){if(!(t.target.className&&"function"===typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;a(this),this.__resizeRAF__&&mu(this.__resizeRAF__),this.__resizeRAF__=bu((function(){i(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}};var s=!1,l="";r="animationstart";var f="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(s=!0),!1===s)for(var d=0;d<f.length;d++)if(void 0!==p.style[f[d]+"AnimationName"]){l="-"+f[d].toLowerCase()+"-",r=h[d],s=!0;break}e="@"+l+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",o=l+"animation: 1ms "+n+"; "}return{addResizeListener:function(i,s){if(c)i.attachEvent("onresize",s);else{if(!i.__resizeTriggers__){var l=i.ownerDocument,f=gu.getComputedStyle(i);f&&"static"===f.position&&(i.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(e||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=t&&a.setAttribute("nonce",t),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),i.appendChild(a)}}(l),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=l.createElement("div")).className="resize-triggers";var h=l.createElement("div");h.className="expand-trigger",h.appendChild(l.createElement("div"));var p=l.createElement("div");p.className="contract-trigger",i.__resizeTriggers__.appendChild(h),i.__resizeTriggers__.appendChild(p),i.appendChild(i.__resizeTriggers__),a(i),i.addEventListener("scroll",u,!0),r&&(i.__resizeTriggers__.__animationListener__=function(t){t.animationName===n&&a(i)},i.__resizeTriggers__.addEventListener(r,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(s)}},removeResizeListener:function(t,e){if(c)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",u,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(r,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(n){}}}}}null==_u||null==Pu?(mu=wu,bu=function(t){return xu(t,20)}):(mu=function(t){var e=vu(t,2),n=e[0],r=e[1];_u(n),wu(r)},bu=function(t){var e=Pu((function(){wu(n),t()})),n=xu((function(){_u(e),t()}),20);return[e,n]});var Ou=function(t){function e(){var t,n,r;hu(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=yu(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,o=t.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,u=window.getComputedStyle(r._parentNode)||{},c=parseInt(u.paddingLeft,10)||0,s=parseInt(u.paddingRight,10)||0,l=parseInt(u.paddingTop,10)||0,f=parseInt(u.paddingBottom,10)||0,h=i-l-f,p=a-c-s;(!e&&r.state.height!==h||!n&&r.state.width!==p)&&(r.setState({height:i-l-f,width:a-c-s}),o({height:i,width:a}))}},r._setRef=function(t){r._autoSizer=t},yu(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),pu(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Su(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,o=t.disableHeight,i=t.disableWidth,a=t.style,u=this.state,c=u.height,s=u.width,l={overflow:"visible"},f={},h=!1;return o||(0===c&&(h=!0),l.height=0,f.height=c),i||(0===s&&(h=!0),l.width=0,f.width=s),(0,r.createElement)("div",{className:n,ref:this._setRef,style:du({},l,a)},!h&&e(f))}}]),e}(r.PureComponent);Ou.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var ku=Ou;function Cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Au(t){return(Au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eu(t,e){return!e||"object"!==ju(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Du(t,e){return(Du=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ju=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Tu(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Au(t);if(e){var o=Au(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eu(this,n)}}function Ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nu(t){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zu(t,e){return!e||"object"!==Wu(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fu(t,e){return(Fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wu=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Lu(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nu(t);if(e){var o=Nu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zu(this,n)}}var Xu=n(8177);function Bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hu(t){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yu(t,e){return!e||"object"!==Uu(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zu(t,e){return(Zu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Uu=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function $u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hu(t);if(e){var o=Hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yu(this,n)}}var Vu=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zu(t,e)}(a,t);var e,n,o,i=$u(a);function a(){var t;return Bu(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).drawOnCanvas=function(e,n){var r=t.helper(t.props,n);void 0!==r&&Gn(e,r)},t.helper=function(t,e){var n=e.chartConfig.yScale,r=e.chartId,o=e.currentItem,i=e.currentCharts,a=e.mouseXY;if(e.show&&!b(a)&&!(i.indexOf(r)<0)){var u=t.displayFormat,c=t.yAccessor;if(!c||o){var s=c?n(c(o)):a[1];return Gu(s,u(n.invert(s)),t,e)}}},t}return e=a,(n=[{key:"render",value:function(){return r.createElement(Z,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:R,drawOn:["mousemove","pan","drag"]})}}])&&qu(e.prototype,n),o&&qu(e,o),a}(r.Component);function Gu(t,e,n,r){var o=r.width,i=n.orient,a=n.at,u=n.rectWidth,c=n.rectHeight,s=n.dx,l=n.stroke,f=n.strokeOpacity,h=n.strokeWidth,p=n.fill,d=n.opacity;return{coordinate:e,show:!0,fitToText:n.fitToText,type:"horizontal",orient:i,edgeAt:"right"===a?o:0,hideLine:!0,fill:p,opacity:d,fontFamily:n.fontFamily,fontSize:n.fontSize,textFill:n.textFill,stroke:l,strokeOpacity:f,strokeWidth:h,rectWidth:u,rectHeight:c,arrowWidth:n.arrowWidth,dx:s,x1:0,x2:o,y1:t,y2:t}}function Ku(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ju(t){return function(t){if(Array.isArray(t))return Ku(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Ku(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ku(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Vu.defaultProps={arrowWidth:0,at:"right",dx:0,fill:"#4C525E",fitToText:!1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"right",rectWidth:50,rectHeight:20,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0};var Qu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.toLocaleString(void 0,{minimumFractionDigits:e,maximumFractionDigits:e})};function tc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ec(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||rc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(t){return function(t){if(Array.isArray(t))return tc(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(t,e){if(t){if("string"===typeof t)return tc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tc(t,e):void 0}}var oc,ic,ac=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},uc=function(t,e,n){var r=0,o=t.reduce((function(t,o,i){var a=function(t,e,n){return(0,Xu.blackScholes)(e,t.k,t.t,t.v,n,t.callPut)||0}(o,e,n)*(o.quantity||1);return r+=a,t.push(a),t}),[]);return{total:r,optionLegValues:o}},cc=(ic={style:{minHeight:300}},function(t){return function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Du(t,e)}(u,e);var n,o,i,a=Tu(u);function u(){return Cu(this,u),a.apply(this,arguments)}return n=u,(o=[{key:"render",value:function(){var e=this;return r.createElement(ku,Object.assign({},ic),(function(n){var o=n.height,i=n.width;return r.createElement(t,Object.assign({},e.props,{height:o,width:i}))}))}}])&&Mu(n.prototype,o),i&&Mu(n,i),u}(r.Component)})((oc=function(t){var e,n,o,i=t.s,a=t.r,u=t.showPayoff,c=t.payoffTitle,s=t.strategies,l=t.children,f=t.onCurrentValueChanged,h=ac(t,["s","r","showPayoff","payoffTitle","strategies","children","onCurrentValueChanged"]),p=ec(r.useState(i),2),d=p[0],y=p[1],v=s.reduce((function(t,e){var n=Object.assign(Object.assign({},e),{value:uc(e.optionLegs,i,a)});if(t[n.name]=n,u){var r,o=(r=Math).min.apply(r,nc(n.optionLegs.map((function(t){return t.t}))));t[function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.replace(/{(\d+)}/g,(function(t,e){return"undefined"!=typeof n[e]?n[e]:t}))}(c||"{0} payoff",n.name)]=Object.assign(Object.assign({},n),{color:n.payoffColor||n.color,optionLegs:n.optionLegs.map((function(t){return Object.assign(Object.assign({},t),{t:t.t-o})}))})}return t}),{}),g=Object.keys(v),m=g.reduce((function(t,e){return t[e]=v[e].value,t}),{});r.useEffect((function(){f&&f(i,m,m)}),[i,a,u,s]);var b=s.flatMap((function(t){return t.optionLegs})),w=(e=Math).max.apply(e,nc(b.map((function(t){return t.v})))),x=b.map((function(t){return t.k}));i&&x.push(i);var _=Math.floor((n=Math).min.apply(n,nc(x))*Math.max(0,1-w)),P=Math.ceil((o=Math).max.apply(o,nc(x))*Math.min(2,1+w)),S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ju(Array(t).keys()).map((function(t){return t+e}))}(P-_,_).map((function(t){return g.reduce((function(e,n){var r,o=v[n];return e[n]=uc(o.optionLegs,t,a).total-((null===(r=o.value)||void 0===r?void 0:r.total)||0),e}),{x:t})})),O=[_,P],k=qo([0,P-_],[_,P]),C=function(t){return function(e){return e[t]}},M=g.map((function(t){return r.createElement(za,{key:"series-".concat(t),strokeStyle:v[t].color,yAccessor:C(t)})})),A=g.map((function(t){return r.createElement($n,{key:"coords-".concat(t),fillStyle:v[t].color,strokeStyle:v[t].color,yAccessor:C(t)})})),E=g.map((function(t){return r.createElement(Vu,{key:"edges-".concat(t),at:"right",orient:"right",displayFormat:Qu,yAccessor:C(t)})})),D=g.map((function(t,e){return r.createElement(fu,{key:"tooltips-".concat(t),yAccessor:C(t),yLabel:t,yDisplayFormat:Qu,labelFill:v[t].color,origin:[8,16*(e+1)]})}));return r.createElement(da,Object.assign({},h,{data:S,margin:{left:0,right:50,top:0,bottom:30},xScale:k,xAccessor:function(t){return t.x},xExtents:O}),r.createElement(ui,{id:1,yExtents:function(t){var e,n,r=(e=Math).min.apply(e,nc(g.map((function(e){return t[e]})))),o=(n=Math).max.apply(n,nc(g.map((function(e){return t[e]}))));return[r-Math.abs(.2*r),o+Math.abs(.2*o)]}},r.createElement(En,null),r.createElement(Wn,{ticks:5}),r.createElement(ir,{at:"bottom",orient:"bottom",displayFormat:Qu}),f&&r.createElement(Z,{clip:!1,canvasDraw:function(t,e){var n,r=e.currentItem,o=!!r&&r,i=o.x,u=ac(o,["x"]);if(i!==d){y(i);var c=null===(n=Object.keys(u))||void 0===n?void 0:n.reduce((function(t,e){return v[e]&&(t[e]=uc(v[e].optionLegs,i,a)),t}),{});f&&f(i,m,c)}},drawOn:["mousemove"]}),M,A,E,D,l))},function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fu(t,e)}(a,t);var e,n,o,i=Lu(a);function a(){var t;return Ru(this,a),(t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))).ref=r.createRef(),t}return e=a,(n=[{key:"componentDidMount",value:function(){var t,e,n,r,o,i=this.ref.current;if(null!==i){var a=i.getContext("2d"),u=window.devicePixelRatio,c=null!==(o=null!==(r=null!==(n=null!==(e=null!==(t=a.webkitBackingStorePixelRatio)&&void 0!==t?t:a.mozBackingStorePixelRatio)&&void 0!==e?e:a.msBackingStorePixelRatio)&&void 0!==n?n:a.oBackingStorePixelRatio)&&void 0!==r?r:a.backingStorePixelRatio)&&void 0!==o?o:1;this.setState({ratio:u/c})}else this.setState({ratio:1})}},{key:"render",value:function(){var t=this.state;return null!==t?r.createElement(oc,Object.assign({},this.props,{ratio:t.ratio})):r.createElement("canvas",{ref:this.ref})}}])&&Iu(e.prototype,n),o&&Iu(e,o),a}(r.Component)))},2703:function(t,e,n){"use strict";var r=n(414);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5697:function(t,e,n){t.exports=n(2703)()},414:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4758:function(t,e,n){"use strict";function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(t){return!!t&&!!t[Y]}function i(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(t)||Array.isArray(t)||!!t[H]||!!t.constructor[H]||h(t)||p(t))}function a(t,e,n){void 0===n&&(n=!1),0===u(t)?(n?Object.keys:U)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function u(t){var e=t[Y];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:h(t)?2:p(t)?3:0}function c(t,e){return 2===u(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){return 2===u(t)?t.get(e):t[e]}function l(t,e,n){var r=u(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function f(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function h(t){return L&&t instanceof Map}function p(t){return X&&t instanceof Set}function d(t){return t.o||t.t}function y(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=$(t);delete e[Y];for(var n=U(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function v(t,e){return void 0===e&&(e=!1),m(t)||o(t)||!i(t)||(u(t)>1&&(t.set=t.add=t.clear=t.delete=g),Object.freeze(t),e&&a(t,(function(t,e){return v(e,!0)}),!0)),t}function g(){r(2)}function m(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function b(t){var e=V[t];return e||r(18,t),e}function w(){return F}function x(t,e){e&&(b("Patches"),t.u=[],t.s=[],t.v=e)}function _(t){P(t),t.p.forEach(O),t.p=null}function P(t){t===F&&(F=t.l)}function S(t){return F={p:[],l:F,h:t,m:!0,_:0}}function O(t){var e=t[Y];0===e.i||1===e.i?e.j():e.O=!0}function k(t,e){e._=e.p.length;var n=e.p[0],o=void 0!==t&&t!==n;return e.h.g||b("ES5").S(e,t,o),o?(n[Y].P&&(_(e),r(4)),i(t)&&(t=C(e,t),e.l||A(e,t)),e.u&&b("Patches").M(n[Y].t,t,e.u,e.s)):t=C(e,n,[]),_(e),e.u&&e.v(e.u,e.s),t!==q?t:void 0}function C(t,e,n){if(m(e))return e;var r=e[Y];if(!r)return a(e,(function(o,i){return M(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return A(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=y(r.k):r.o;a(3===r.i?new Set(o):o,(function(e,i){return M(t,r,o,e,i,n)})),A(t,o,!1),n&&t.u&&b("Patches").R(r,n,t.u,t.s)}return r.o}function M(t,e,n,r,a,u){if(o(a)){var s=C(t,a,u&&e&&3!==e.i&&!c(e.D,r)?u.concat(r):void 0);if(l(n,r,s),!o(s))return;t.m=!1}if(i(a)&&!m(a)){if(!t.h.F&&t._<1)return;C(t,a),e&&e.A.l||A(t,a)}}function A(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&v(e,n)}function E(t,e){var n=t[Y];return(n?d(n):t)[e]}function D(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function j(t){t.P||(t.P=!0,t.l&&j(t.l))}function T(t){t.o||(t.o=y(t.t))}function R(t,e,n){var r=h(e)?b("MapSet").N(e,n):p(e)?b("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:w(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},o=r,i=G;n&&(o=[r],i=K);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(e,n):b("ES5").J(e,n);return(n?n.A:w()).p.push(r),r}function I(t){return o(t)||r(22,t),function t(e){if(!i(e))return e;var n,r=e[Y],o=u(e);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=N(e,o),r.I=!1}else n=N(e,o);return a(n,(function(e,o){r&&s(r.t,e)===o||l(n,e,t(o))})),3===o?new Set(n):n}(t)}function N(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return y(t)}n.d(e,{x:function(){return nt}});var z,F,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),L="undefined"!=typeof Map,X="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,q=W?Symbol.for("immer-nothing"):((z={})["immer-nothing"]=!0,z),H=W?Symbol.for("immer-draftable"):"__$immer_draftable",Y=W?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),U="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,$=Object.getOwnPropertyDescriptors||function(t){var e={};return U(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},V={},G={get:function(t,e){if(e===Y)return t;var n=d(t);if(!c(n,e))return function(t,e,n){var r,o=D(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!i(r)?r:r===E(t.t,e)?(T(t),t.o[e]=R(t.A.h,r,t)):r},has:function(t,e){return e in d(t)},ownKeys:function(t){return Reflect.ownKeys(d(t))},set:function(t,e,n){var r=D(d(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=E(d(t),e),i=null==o?void 0:o[Y];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(f(n,o)&&(void 0!==n||c(t.t,e)))return!0;T(t),j(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==E(t.t,e)||e in t.t?(t.D[e]=!1,T(t),j(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=d(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){r(12)}},K={};a(G,(function(t,e){K[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),K.deleteProperty=function(t,e){return K.set.call(this,t,e,void 0)},K.set=function(t,e,n){return G.set.call(this,t[0],e,n,t[0])};var J=new(function(){function t(t){var e=this;this.g=B,this.F=!0,this.produce=function(t,n,o){if("function"==typeof t&&"function"!=typeof n){var a=n;n=t;var u=e;return function(t){var e=this;void 0===t&&(t=a);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return u.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(o))}))}}var c;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),i(t)){var s=S(e),l=R(e,t,void 0),f=!0;try{c=n(l),f=!1}finally{f?_(s):P(s)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(t){return x(s,o),k(t,s)}),(function(t){throw _(s),t})):(x(s,o),k(c,s))}if(!t||"object"!=typeof t){if(void 0===(c=n(t))&&(c=t),c===q&&(c=void 0),e.F&&v(c,!0),o){var h=[],p=[];b("Patches").M(t,c,h,p),o(h,p)}return c}r(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))};var r,o,i=e.produce(t,n,(function(t,e){r=t,o=e}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(t){return[t,r,o]})):[i,r,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){i(t)||r(8),o(t)&&(t=I(t));var e=S(this),n=R(this,t,void 0);return n[Y].C=!0,P(e),n},e.finishDraft=function(t,e){var n=(t&&t[Y]).A;return x(n,e),k(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!B&&r(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var i=b("Patches").$;return o(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}()),Q=J.produce,tt=(J.produceWithPatches.bind(J),J.setAutoFreeze.bind(J),J.setUseProxies.bind(J),J.applyPatches.bind(J),J.createDraft.bind(J),J.finishDraft.bind(J),Q),et=n(7294);function nt(t){var e=(0,et.useState)((function(){return v("function"==typeof t?t():t,!0)})),n=e[1];return[e[0],(0,et.useCallback)((function(t){n("function"==typeof t?tt(t):v(t))}),[])]}}}]);